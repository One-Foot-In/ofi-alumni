(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{262:function(e,t,a){e.exports=a(446)},355:function(e,t,a){e.exports=a.p+"static/media/logo.4a6670bf.png"},446:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(66),s=a.n(o),l=a(10),i=a(11),c=a(13),u=a(12),m=a(6),d=a(14),h=(a(48),a(467)),p=a(447),g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={loggedIn:!1},a.componentCleanup=a.componentCleanup.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentCleanup",value:function(){sessionStorage.setItem("Header_LS",JSON.stringify(this.state))}},{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.componentCleanup);var e=sessionStorage.getItem("Header_LS");if(e)try{this.setState(JSON.parse(e))}catch(t){console.log("Could not get fetch state from local storage for","Header_LS")}}},{key:"componentWillUnmount",value:function(){this.componentCleanup(),window.removeEventListener("beforeunload",this.componentCleanup)}},{key:"renderLoginStateInfo",value:function(){var e=this.props.loggedIn;return r.a.createElement(h.a.Column,{width:6,style:{"padding-top":"50px"}},r.a.createElement(p.a,{class:"ui button",onClick:this.props.logout},e?"Log Out":"Log In"))}},{key:"renderLogo",value:function(){return r.a.createElement("img",{class:"ui small image centered",src:a(355),alt:"logo"})}},{key:"render",value:function(){return r.a.createElement(h.a,{columns:3},r.a.createElement(h.a.Column,{width:5},r.a.createElement("div",null)),r.a.createElement(h.a.Column,{width:5},this.renderLogo()),this.props.loggedIn?this.renderLoginStateInfo():null)}}]),t}(n.Component),f=a(7),v=a.n(f),E=a(15),b=a(466),y=a(470),C=a(50),S=a(454),w=a(453),O=a(462),k=a(251),j=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.image;return r.a.createElement(O.a,null,r.a.createElement(k.a,{style:{height:"300px","object-fit":"cover"},src:a}),r.a.createElement(O.a.Content,null,r.a.createElement(O.a.Header,null,t)),r.a.createElement(O.a.Content,{extra:!0},r.a.createElement(C.a,{name:"user"})))}}]),t}(r.a.Component),T=a(463),M=a(464),x=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).renderAboutMe=a.renderAboutMe.bind(Object(m.a)(a)),a.getLanguages=a.getLanguages.bind(Object(m.a)(a)),a.componentCleanup=a.componentCleanup.bind(Object(m.a)(a)),a.state={calls_requested:null,calls_completed:null},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentCleanup",value:function(){sessionStorage.setItem("CardDetails_LS",JSON.stringify(this.state))}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("beforeunload",this.componentCleanup);var t=sessionStorage.getItem("CardDetails_LS");if(t)try{this.setState(JSON.parse(t))}catch(n){console.log("Could not get fetch state from local storage for","CardDetails_LS")}if(this.props.isMentor&&this.props.mentorIdForStats){var a={id:this.props.mentorIdForStats};fetch("".concat(Nt,"/getRequestRecordsMentor"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(){var t=Object(E.a)(v.a.mark(function t(a){var n,r;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a;case 2:return n=t.sent,r=n.status,t.next=6,n.json();case 6:n=t.sent,200!==r||e.setState({calls_completed:n.calls_completed,calls_requested:n.calls_requested});case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}}},{key:"componentWillUnmount",value:function(){this.props.isMentor&&(this.componentCleanup(),window.removeEventListener("beforeunload",this.componentCleanup))}},{key:"renderAboutMe",value:function(){return r.a.createElement(T.a,{icon:"paper plane",header:"About ".concat(this.props.name,"..."),content:this.props.aboutYourself})}},{key:"getLanguages",value:function(){var e=this.props.languages;return e&&e.length>1?"I speak "+e.slice(0,-1).join(", ")+" and "+e.slice(-1):"I speak ".concat(e&&e[0])}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.school,n=e.memberSince;return r.a.createElement("div",null,r.a.createElement(O.a,null,r.a.createElement(O.a.Content,null,r.a.createElement(O.a.Header,null,t),r.a.createElement(O.a.Meta,null,a),this.props.isMentor?r.a.createElement(O.a.Meta,null,this.props.position):null,this.props.isMentor?r.a.createElement(O.a.Meta,null,this.getLanguages()):null,this.renderAboutMe(),r.a.createElement(O.a.Description,null,t," has been a member since ",n,".")),this.props.isMentor?r.a.createElement(O.a.Content,null,r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Column,null,r.a.createElement(M.a,{color:"orange"},r.a.createElement(M.a.Value,null,this.state.calls_completed),r.a.createElement(M.a.Label,null,"CALLS COMPLETED"))),r.a.createElement(h.a.Column,null,r.a.createElement(M.a,{color:"yellow"},r.a.createElement(M.a.Value,null,this.state.calls_requested),r.a.createElement(M.a.Label,null,"CALLS REQUESTED"))))):null))}}]),t}(r.a.Component),A=a(457),L=a(90),P=a(16),I=a.n(P),N=a(30),D=a(469),F=a(89),q=a(455),R=a(58),_=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function B(e){var t=parseInt(e/100),a=50===e%100?"30":"00",n=t/12>=1&&t/12<2?"pm":"am";return"".concat(t%12===0?12:t%12,".").concat(a).concat(n)}function J(e,t){var a=(_.indexOf(e)+(t?1:-1))%_.length;return a<0?_[6]:_[a]}function H(e,t){var a=[],n=parseInt(t.substring(3));return e.forEach(function(e){var t=e.split("-"),r=t[1],o=t[0],s=function(e){var t="pm"===e.substring(e.length-2),a=e.length>3?100*parseInt(e.substring(0,2)):100*parseInt(e[0]);return(t&&1200===a||!t&&1200===a)&&(a=0),a+(t?1200:0)}(r)-n;s>2400&&(o=J(o,!0),s%=2400),s<0&&(o=J(o,!1),s=2400+s);var l=function(e,t,a){for(var n=[],r=!1;a;)a--,n.push({time:t%2400,day:e}),(t+=50)/2400>=1&&!r&&(e=J(e,!0),r=!0);return n}(o,s,6);a.push(l.map(function(e){var t=B(e.time);return"".concat(e.day,"-").concat(t)}))}),a}function Y(e,t){var a,n=e.split("-");a=parseInt(t.substring(3));var r;r=function(e){var t="pm"===e.substring(e.length-2),a=e.split("."),n="30"===a[1].substring(0,2)?50:0,r=a[0].length>1?100*parseInt(a[0].substring(0,2)):100*parseInt(e[0]);return(t&&1200===r||!t&&1200===r)&&(r=0),r+(t?1200:0)+n}(n[1])+a;var o=n[0],s=r;return r>2400&&(o=J(n[0],!0),s=r%2400),r<0&&(o=J(n[0],!1),s=2400+r),"".concat(o," ").concat(B(s)).replace('{"',"")}var W=["6am-9am","9am-12pm","12pm-3pm","3pm-6pm","6pm-9pm","9pm-12am"].map(function(e){return{key:e,text:e,value:e}}),U={padding:"20px",margin:"10px"},V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={sundayPreferredTimes:[],mondayPreferredTimes:[],tuesdayPreferredTimes:[],wednesdayPreferredTimes:[],thursdayPreferredTimes:[],fridayPreferredTimes:[],saturdayPreferredTimes:[],signUpDone:!1,submitting:!1,zoom_info:""},a.handleChangeSundayTime=a.handleChangeSundayTime.bind(Object(m.a)(a)),a.handleChangeMondayTime=a.handleChangeMondayTime.bind(Object(m.a)(a)),a.handleChangeTuesdayTime=a.handleChangeTuesdayTime.bind(Object(m.a)(a)),a.handleChangeWednesdayTime=a.handleChangeWednesdayTime.bind(Object(m.a)(a)),a.handleChangeThursdayTime=a.handleChangeThursdayTime.bind(Object(m.a)(a)),a.handleChangeFridayTime=a.handleChangeFridayTime.bind(Object(m.a)(a)),a.handleChangeSaturdayTime=a.handleChangeSaturdayTime.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){e.preventDefault();var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleChangeSundayTime",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({sundayPreferredTimes:a})}},{key:"handleChangeMondayTime",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({mondayPreferredTimes:a})}},{key:"handleChangeTuesdayTime",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({tuesdayPreferredTimes:a})}},{key:"handleChangeWednesdayTime",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({wednesdayPreferredTimes:a})}},{key:"handleChangeThursdayTime",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({thursdayPreferredTimes:a})}},{key:"handleChangeFridayTime",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({fridayPreferredTimes:a})}},{key:"handleChangeSaturdayTime",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({saturdayPreferredTimes:a})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({submitting:!0});var a=[].concat(Object(N.a)(this.state.sundayPreferredTimes&&this.state.sundayPreferredTimes.map(function(e){return"Sunday-".concat(e)})),Object(N.a)(this.state.mondayPreferredTimes&&this.state.mondayPreferredTimes.map(function(e){return"Monday-".concat(e)})),Object(N.a)(this.state.tuesdayPreferredTimes&&this.state.tuesdayPreferredTimes.map(function(e){return"Tuesday-".concat(e)})),Object(N.a)(this.state.wednesdayPreferredTimes&&this.state.wednesdayPreferredTimes.map(function(e){return"Wednesday-".concat(e)})),Object(N.a)(this.state.thursdayPreferredTimes&&this.state.thursdayPreferredTimes.map(function(e){return"Thursday-".concat(e)})),Object(N.a)(this.state.fridayPreferredTimes&&this.state.fridayPreferredTimes.map(function(e){return"Friday-".concat(e)})),Object(N.a)(this.state.saturdayPreferredTimes&&this.state.saturdayPreferredTimes.map(function(e){return"Saturday-".concat(e)})));if(!this.state.zoom_info)return I()({title:"Slow down there!",text:"Please set up a zoom meeting room to complete sign up!",icon:"error"}),void this.setState({submitting:!1});var n=H(a,this.props.payload.timeZone),r=Object.assign(this.props.payload,{preferredTimes:n,zoom_info:this.state.zoom_info});fetch("".concat(Nt,"/newMentor"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(function(){var e=Object(E.a)(v.a.mark(function e(a){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:200!==e.sent.status?(I()({title:"Oops!",text:"Something went wrong... Please try again.",icon:"error"}),t.setState({submitting:!1})):(I()({title:"Congratulations!",text:"Your submission was successful! Please check your email to confirm your account.",icon:"success"}),t.setState({signUpDone:!0,submitting:!1}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.setState({submitting:!1},function(){window.alert("Whoops! The server's acting up... :(")})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.signUpDone?r.a.createElement(R.a,{to:"/"}):r.a.createElement(w.a,null,r.a.createElement(T.a,{centered:!0,content:"Please select the times that work for you. All time submissions are in your local time.",style:U}),r.a.createElement(S.a,null),r.a.createElement(h.a.Row,{centered:!0},r.a.createElement(p.a,{onClick:function(t){e.props.back(t)}},"Back")),r.a.createElement(h.a.Row,{style:{padding:"14px"}}),r.a.createElement(h.a,{columns:7},r.a.createElement(h.a.Column,null,r.a.createElement(D.a,null,"Sunday"),r.a.createElement(S.a,null),r.a.createElement(L.a,{placeholder:"Sunday",fluid:!0,multiple:!0,selection:!0,options:W,onChange:this.handleChangeSundayTime,name:"Sunday"})),r.a.createElement(h.a.Column,null,r.a.createElement(D.a,null,"Monday"),r.a.createElement(S.a,null),r.a.createElement(L.a,{placeholder:"Monday",fluid:!0,multiple:!0,selection:!0,options:W,onChange:this.handleChangeMondayTime,name:"Monday"})),r.a.createElement(h.a.Column,null,r.a.createElement(D.a,null,"Tuesday"),r.a.createElement(S.a,null),r.a.createElement(L.a,{placeholder:"Tuesday",fluid:!0,multiple:!0,selection:!0,options:W,onChange:this.handleChangeTuesdayTime,name:"Tuesday"})),r.a.createElement(h.a.Column,null,r.a.createElement(D.a,null,"Wednesday"),r.a.createElement(S.a,null),r.a.createElement(L.a,{placeholder:"Wednesday",fluid:!0,multiple:!0,selection:!0,options:W,onChange:this.handleChangeWednesdayTime,name:"Wednesday"})),r.a.createElement(h.a.Column,null,r.a.createElement(D.a,null,"Thursday"),r.a.createElement(S.a,null),r.a.createElement(L.a,{placeholder:"Thursday",fluid:!0,multiple:!0,selection:!0,options:W,onChange:this.handleChangeThursdayTime,name:"Thursday"})),r.a.createElement(h.a.Column,null,r.a.createElement(D.a,null,"Friday"),r.a.createElement(S.a,null),r.a.createElement(L.a,{placeholder:"Friday",fluid:!0,multiple:!0,selection:!0,options:W,onChange:this.handleChangeFridayTime,name:"Friday"})),r.a.createElement(h.a.Column,null,r.a.createElement(D.a,null,"Saturday"),r.a.createElement(S.a,null),r.a.createElement(L.a,{placeholder:"Saturday",fluid:!0,multiple:!0,selection:!0,options:W,onChange:this.handleChangeSaturdayTime,name:"Saturday"}))),r.a.createElement(h.a.Row,{style:{padding:"14px"}}),r.a.createElement(h.a.Row,{centered:!0},r.a.createElement(h.a.Row,null,r.a.createElement(p.a,{onClick:function(){window.open("https://www.zoom.us/signup")}},"Click here to set up a zoom account for free!")),r.a.createElement(S.a,null),r.a.createElement(h.a.Row,null,r.a.createElement(F.a,{pointing:"below"},"Please insert your zoom meeting room ID below after you've set up a free account.")),r.a.createElement(h.a.Row,null,r.a.createElement(q.a,{name:"zoom_info",placeholder:"https://zoom.us/j/xxxxxxxxxx",onChange:this.handleChange}))),r.a.createElement(S.a,null),r.a.createElement(p.a,{color:"blue",type:"submit",onClick:this.handleSubmit,loading:this.state.submitting},r.a.createElement(C.a,{name:"unlock"}),"Submit")))}}]),t}(r.a.Component),G=a(124),Z=a.n(G),z=a(38),K=["Essay Brainstorm","Essay Critique","ECA Development","College Shortlisting","Financial Aid Matters","General Consulation"],X=K.map(function(e){return{key:e,text:e,value:e}}),Q=["Arabic","Bengali","Chinese (Mandarin)","English","French","German","Greek","Hebrew","Hindi","Indonesian","Italian","Japanese","Nepali","Portuguese","Romanian","Russian","Spanish","Swahili","Urdu"],$=Q.map(function(e){return{key:e,text:e,value:e}}),ee={width:"100%"},te={padding:"20px",margin:"10px"};function ae(){function e(e){return(e<10?"0":"")+e}var t=(new Date).getTimezoneOffset();return(t<0?"+":"-")+e((t=Math.abs(t))/60|0)+e(t%60)}var ne=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={name:"",email:"",password:"",confirmPassword:"",college:"",major:"",location:"",preferredTopics:[],languages:[],selectTimes:!1,position:"",aboutYourself:"",imageLink:""},e.handleChange=e.handleChange.bind(Object(m.a)(e)),e.handleChangeTopic=e.handleChangeTopic.bind(Object(m.a)(e)),e.handleChangeLanguages=e.handleChangeLanguages.bind(Object(m.a)(e)),e.selectTimes=e.selectTimes.bind(Object(m.a)(e)),e.setPreferredTimes=e.setPreferredTimes.bind(Object(m.a)(e)),e.formPayload=e.formPayload.bind(Object(m.a)(e)),e.uploadImage=e.uploadImage.bind(Object(m.a)(e)),e.backToSignUp=e.backToSignUp.bind(Object(m.a)(e)),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"backToSignUp",value:function(e){var t=sessionStorage.getItem("MentorSignUp_LS");if(t)try{this.setState(JSON.parse(t))}catch(e){console.log("Could not get fetch state from local storage for","MentorSignUp_LS")}e.preventDefault(),this.setState({selectTimes:!1})}},{key:"setPreferredTimes",value:function(e){this.setState({preferredTimes:e})}},{key:"selectTimes",value:function(e){e&&e.preventDefault(),this.state.name&&this.state.email&&this.state.password&&this.state.confirmPassword&&this.state.major&&this.state.location&&this.state.preferredTopics.length&&this.state.position&&this.state.aboutYourself&&this.state.password===this.state.confirmPassword?(sessionStorage.setItem("MentorSignUp_LS",JSON.stringify(this.state)),this.setState({selectTimes:!0})):I()({title:"Yikes!",text:"Please fill in all fields to continue. Confirm that passwords match!",icon:"error"})}},{key:"handleChange",value:function(e){e.preventDefault();var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleChangeTopic",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({preferredTopics:a})}},{key:"handleChangeLanguages",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({languages:a})}},{key:"uploadImage",value:function(e){var t=this;e.preventDefault();var a=e.target.files[0],n=new FormData;n.append("file",a),Z.a.post("".concat(Nt,"/imageUpload"),n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){console.log(e),t.setState({imageLink:e.data})}).catch(function(e){return console.log(e)})}},{key:"formPayload",value:function(){var e="GMT".concat(ae());return{name:this.state.name,email:this.state.email,password:this.state.password,college:this.state.college,major:this.state.major,location:this.state.location,preferredTimes:this.state.preferredTimes,preferredTopics:this.state.preferredTopics,languages:this.state.languages,timeZone:e,position:this.state.position,aboutYourself:this.state.aboutYourself,imageLink:this.state.imageLink}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T.a,{style:te,attached:!0,centered:!0,header:"Mentor Sign up",content:"Welcome! We're excited to have you on board."}),r.a.createElement(h.a,null,this.state.selectTimes?r.a.createElement(V,{payload:this.formPayload(),setPreferredTimes:this.setPreferredTimes,back:this.backToSignUp}):r.a.createElement(h.a.Column,{centered:!0},r.a.createElement(h.a.Row,{centered:!0},r.a.createElement(p.a,null,r.a.createElement(z.b,{to:Dt.root},"Back"))),r.a.createElement(h.a.Row,{style:{padding:"14px"}}),r.a.createElement(h.a.Row,null,r.a.createElement(A.a,null,r.a.createElement(A.a.Field,{type:"email",required:"true",style:ee},r.a.createElement("label",null,"Email"),r.a.createElement("input",{placeholder:"Email",name:"email",onChange:this.handleChange,value:this.state.email})),r.a.createElement(A.a.Field,{type:"password",required:"true",style:ee},r.a.createElement("label",null,"Password"),r.a.createElement("input",{placeholder:"***",name:"password",type:"password",onChange:this.handleChange,value:this.state.password})),r.a.createElement(A.a.Field,{type:"password",required:"true",style:ee},r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{placeholder:"***",name:"confirmPassword",type:"password",onChange:this.handleChange,value:this.state.confirmPassword})),this.state.password!==this.state.confirmPassword?r.a.createElement(T.a,{attached:!0,centered:!0,error:!0,content:"Your passwords do not match!"}):null,r.a.createElement(A.a.Field,{type:"text",required:"true",style:ee},r.a.createElement("label",null,"Name"),r.a.createElement("input",{placeholder:"Name",name:"name",onChange:this.handleChange,value:this.state.name})),r.a.createElement(A.a.Field,{type:"text",required:"true",style:ee},r.a.createElement("label",null,"Major"),r.a.createElement("input",{placeholder:"Major",name:"major",onChange:this.handleChange,value:this.state.major})),r.a.createElement(A.a.Field,{type:"text",required:"true",style:ee},r.a.createElement("label",null,"College"),r.a.createElement("input",{placeholder:"College",name:"college",onChange:this.handleChange,value:this.state.college})),r.a.createElement(A.a.Field,{type:"text",required:"true",style:ee},r.a.createElement("label",null,"Location"),r.a.createElement("input",{placeholder:"Location",name:"location",onChange:this.handleChange,value:this.state.location})),r.a.createElement(A.a.Field,{type:"text",required:"true",style:ee},r.a.createElement("label",null,"Professional Position"),r.a.createElement("input",{placeholder:"Position",name:"position",onChange:this.handleChange,value:this.state.position})),r.a.createElement(A.a.Field,null,r.a.createElement("label",null,"What languages do you speak?"),r.a.createElement(L.a,{placeholder:"Select all languages you speak...",fluid:!0,multiple:!0,selection:!0,options:$,onChange:this.handleChangeLanguages,name:"languages",value:this.state.languages})),r.a.createElement(A.a.Field,{type:"text",required:"true",style:ee},r.a.createElement("label",null,"Tell us a little bit about yourself!"),r.a.createElement("input",{placeholder:"Interests, Hobbies, Motos...",name:"aboutYourself",maxLength:"500",onChange:this.handleChange,value:this.state.aboutYourself})),r.a.createElement(A.a.Field,{require:"true"},r.a.createElement("label",null,"Select the topics you would like to consult."),r.a.createElement(L.a,{placeholder:"Preferred Topics",fluid:!0,multiple:!0,selection:!0,options:X,onChange:this.handleChangeTopic,name:"preferredTopics",value:this.state.preferredTopics})),r.a.createElement(A.a.Field,null,r.a.createElement("label",null,"Let's put a face on you! Please upload an image."),r.a.createElement("input",{type:"file",onChange:this.uploadImage,class:"ui huge yellow center floated button"})),r.a.createElement(h.a.Row,null,r.a.createElement(p.a,{onClick:this.selectTimes},"Select preferred times")))))))}}]),t}(r.a.Component),re=K.map(function(e){return{key:e,text:e,value:e}}),oe=Q.map(function(e){return{key:e,text:e,value:e}}),se="Add your own school",le={width:"100%"},ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={password:"",confirmPassword:"",school:"",major:"",location:"",preferredTopics:[],position:"",languages:[],zoom_info:"",aboutYourself:"",imageLink:"",submitting:!1,schoolCustom:"",schoolSelected:!1,customSchoolSelected:!1,schools:[]},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleChangeTopic=a.handleChangeTopic.bind(Object(m.a)(a)),a.handleMentorEditSubmit=a.handleMentorEditSubmit.bind(Object(m.a)(a)),a.handleMenteeEditSubmit=a.handleMenteeEditSubmit.bind(Object(m.a)(a)),a.handleChangeLanguages=a.handleChangeLanguages.bind(Object(m.a)(a)),a.handleSchoolSelection=a.handleSchoolSelection.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleMentorEditSubmit",value:function(e){var t=this;if(this.state.password===this.state.confirmPassword){e.preventDefault();var a={password:this.state.password,school:this.state.school,major:this.state.major,location:this.state.location,preferredTopics:this.state.preferredTopics,languages:this.state.languages,zoom_info:this.state.zoom_info,position:this.state.position,aboutYourself:this.state.aboutYourself,imageLink:this.state.imageLink,email:this.props.email};this.setState({submitting:!0},Object(E.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("".concat(Nt,"/editMentor"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(){var e=Object(E.a)(v.a.mark(function e(a){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:200!==e.sent.status?I()({title:"Oops!",text:"Something went wrong... Please try again.",icon:"error"}):(I()({title:"All set!",text:"You've just updated your profile.",icon:"success"}),t.props.goBack());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).then(function(){t.setState({submitting:!1},function(){t.props.goBack()})}).catch(function(e){t.setState({submitting:!1},function(){window.alert("Whoops! The server's acting up... :(")})});case 1:case"end":return e.stop()}},e)})))}else I()({title:"Passwords do not match!",text:"Please ensure your passwords match.",icon:"error"})}},{key:"handleSchoolSelection",value:function(e,t){var a=t.value;e.preventDefault(),a===se?this.setState({customSchoolSelected:!0,schoolSelected:!0}):this.setState({school:a,schoolSelected:!0})}},{key:"componentDidMount",value:function(){var e=this,t=new Headers;t.append("Content-Type","application/json"),t.append("Accept","application/json"),fetch("".concat(Nt,"/getSchools"),{method:"get",headers:t,credentials:"include"}).then(function(){var t=Object(E.a)(v.a.mark(function t(a){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a;case 2:return n=t.sent,t.next=5,n.json();case 5:n=t.sent,e.setState({schools:n.schools});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){return console.log(e)})}},{key:"handleMenteeEditSubmit",value:function(e){var t=this;if(this.state.password===this.state.confirmPassword){var a={password:this.state.password,school:this.state.school,schoolCustom:this.state.schoolCustom,customSchoolSelected:this.state.customSchoolSelected,schoolSelected:this.state.schoolSelected,location:this.state.location,aboutYourself:this.state.aboutYourself,imageLink:this.state.imageLink,email:this.props.email};this.setState({submitting:!0},Object(E.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("".concat(Nt,"/editMentee"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(){var e=Object(E.a)(v.a.mark(function e(a){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:200!==e.sent.status?I()({title:"Oops!",text:"Something went wrong... Please try again.",icon:"error"}):(I()({title:"All set!",text:"You've just updated your profile.",icon:"success"}),t.props.goBack());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).then(function(){t.setState({submitting:!1},function(){t.props.goBack()})}).catch(function(e){t.setState({submitting:!1},function(){window.alert("Whoops! The server's acting up... :(")})});case 1:case"end":return e.stop()}},e)})))}else I()({title:"Passwords do not match!",text:"Please ensure your passwords match.",icon:"error"})}},{key:"handleChange",value:function(e){e.preventDefault();var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleChangeTopic",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({preferredTopics:a})}},{key:"handleChangeLanguages",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({languages:a})}},{key:"render",value:function(){var e=this,t=this.state.schools?this.state.schools.map(function(e){return{key:e.name,value:e.name,text:e.name}}):null;t&&t.push({key:se,value:se,text:se});var a=r.a.createElement(A.a,{onSubmit:this.handleMentorEditSubmit},r.a.createElement(A.a.Field,{type:"password",style:le},r.a.createElement("label",null,"Password"),r.a.createElement("input",{placeholder:"***",name:"password",type:"password",onChange:this.handleChange})),r.a.createElement(A.a.Field,{type:"password",style:le},r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{placeholder:"***",name:"confirmPassword",type:"password",onChange:this.handleChange})),r.a.createElement(A.a.Field,{type:"text",style:le,disabled:!0},r.a.createElement("label",null,"Name"),r.a.createElement("input",{placeholder:"Name",name:"name",value:this.props.name})),r.a.createElement(A.a.Field,{type:"text",style:le},r.a.createElement("label",null,"Major"),r.a.createElement("input",{placeholder:this.props.major,name:"major",onChange:this.handleChange})),r.a.createElement(A.a.Field,{type:"text",style:le},r.a.createElement("label",null,"College"),r.a.createElement("input",{placeholder:this.props.school,name:"college",onChange:this.handleChange})),r.a.createElement(A.a.Field,null,r.a.createElement("label",null,"What languages do you speak?"),r.a.createElement(L.a,{placeholder:"Select all languages you speak...",fluid:!0,multiple:!0,selection:!0,options:oe,onChange:this.handleChangeLanguages,name:"languages",value:this.state.languages})),r.a.createElement(A.a.Field,{type:"text",style:le},r.a.createElement("label",null,"Location"),r.a.createElement("input",{placeholder:this.props.location,name:"location",onChange:this.handleChange})),r.a.createElement(A.a.Field,{type:"text",style:le},r.a.createElement("label",null,"Professional Position"),r.a.createElement("input",{placeholder:this.props.position,name:"position",onChange:this.handleChange})),r.a.createElement(A.a.Field,{type:"text",style:le},r.a.createElement("label",null,"Zoom Meeting Link"),r.a.createElement("input",{placeholder:this.props.zoom_info,name:"zoom_info",onChange:this.handleChange})),r.a.createElement(A.a.Field,{type:"text",style:le},r.a.createElement("label",null,"Tell us a little bit about yourself!"),r.a.createElement("input",{placeholder:this.props.aboutYourself,name:"aboutYourself",maxLength:"500",onChange:this.handleChange})),r.a.createElement(A.a.Field,null,r.a.createElement("label",null,"Select the topics you would like to consult."),r.a.createElement(L.a,{placeholder:"Preferred Topics",fluid:!0,multiple:!0,selection:!0,options:re,onChange:this.handleChangeTopic,name:"preferredTopics"})),r.a.createElement(A.a.Field,null,r.a.createElement("label",null,"Let's put a face on you! Please upload an image."),r.a.createElement("input",{type:"file",onChange:this.uploadImage,class:"ui huge yellow center floated button"})),r.a.createElement(p.a,{color:"blue",type:"submit",loading:this.state.submitting},r.a.createElement(C.a,{name:"unlock"}),"Submit"),r.a.createElement(p.a,{onClick:function(t){return e.props.goBack(t)}},r.a.createElement(C.a,{name:"backward"}),"Go Back.")),n=r.a.createElement(A.a,{onSubmit:this.handleMenteeEditSubmit},r.a.createElement(A.a.Field,{type:"password",style:le},r.a.createElement("label",null,"Password"),r.a.createElement("input",{placeholder:"***",name:"password",type:"password",onChange:this.handleChange})),r.a.createElement(A.a.Field,{type:"password",style:le},r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{placeholder:"***",name:"confirmPassword",type:"password",onChange:this.handleChange})),r.a.createElement(A.a.Field,{type:"text",style:le,disabled:!0},r.a.createElement("label",null,"Name"),r.a.createElement("input",{placeholder:"Name",name:"name",value:this.props.name})),this.state.customSchoolSelected?r.a.createElement(A.a.Field,{type:"text",required:"true",style:le},r.a.createElement("label",null,"Add your School"),r.a.createElement("input",{placeholder:"School",name:"schoolCustom",onChange:this.handleChange})):r.a.createElement(A.a.Field,null,r.a.createElement("label",null,"Select your school"),r.a.createElement(L.a,{placeholder:"Select the school your attend",fluid:!0,selection:!0,options:t,onChange:this.handleSchoolSelection,name:"school"})),r.a.createElement(A.a.Field,{type:"text",style:le},r.a.createElement("label",null,"Location"),r.a.createElement("input",{placeholder:this.props.location,name:"location",onChange:this.handleChange})),r.a.createElement(A.a.Field,{type:"text",style:le},r.a.createElement("label",null,"Tell us a little bit about yourself!"),r.a.createElement("input",{placeholder:this.props.aboutYourself,name:"aboutYourself",maxLength:"500",onChange:this.handleChange})),r.a.createElement(A.a.Field,null,r.a.createElement("label",null,"Let's put a face on you! Please upload an image."),r.a.createElement("input",{type:"file",onChange:this.uploadImage,class:"ui huge yellow center floated button"})),r.a.createElement(p.a,{color:"blue",type:"submit",loading:this.state.submitting},r.a.createElement(C.a,{name:"unlock"}),"Submit"),r.a.createElement(p.a,{onClick:function(t){return e.props.goBack(t)}},r.a.createElement(C.a,{name:"backward"}),"Go Back."));return r.a.createElement(w.a,null,r.a.createElement(h.a,{centered:!0},this.props.isMentor?a:n))}}]),t}(r.a.Component),ce=["6am-9am","9am-12pm","12pm-3pm","3pm-6pm","6pm-9pm","9pm-12am"].map(function(e){return{key:e,text:e,value:e}}),ue={padding:"20px",margin:"10px"},me=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={sundayPreferredTimes:[],mondayPreferredTimes:[],tuesdayPreferredTimes:[],wednesdayPreferredTimes:[],thursdayPreferredTimes:[],fridayPreferredTimes:[],saturdayPreferredTimes:[],done:!1},a.handleChangeSundayTime=a.handleChangeSundayTime.bind(Object(m.a)(a)),a.handleChangeMondayTime=a.handleChangeMondayTime.bind(Object(m.a)(a)),a.handleChangeTuesdayTime=a.handleChangeTuesdayTime.bind(Object(m.a)(a)),a.handleChangeWednesdayTime=a.handleChangeWednesdayTime.bind(Object(m.a)(a)),a.handleChangeThursdayTime=a.handleChangeThursdayTime.bind(Object(m.a)(a)),a.handleChangeFridayTime=a.handleChangeFridayTime.bind(Object(m.a)(a)),a.handleChangeSaturdayTime=a.handleChangeSaturdayTime.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleChangeSundayTime",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({sundayPreferredTimes:a})}},{key:"handleChangeMondayTime",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({mondayPreferredTimes:a})}},{key:"handleChangeTuesdayTime",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({tuesdayPreferredTimes:a})}},{key:"handleChangeWednesdayTime",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({wednesdayPreferredTimes:a})}},{key:"handleChangeThursdayTime",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({thursdayPreferredTimes:a})}},{key:"handleChangeFridayTime",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({fridayPreferredTimes:a})}},{key:"handleChangeSaturdayTime",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({saturdayPreferredTimes:a})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=H([].concat(Object(N.a)(this.state.sundayPreferredTimes&&this.state.sundayPreferredTimes.map(function(e){return"Sunday-".concat(e)})),Object(N.a)(this.state.mondayPreferredTimes&&this.state.mondayPreferredTimes.map(function(e){return"Monday-".concat(e)})),Object(N.a)(this.state.tuesdayPreferredTimes&&this.state.tuesdayPreferredTimes.map(function(e){return"Tuesday-".concat(e)})),Object(N.a)(this.state.wednesdayPreferredTimes&&this.state.wednesdayPreferredTimes.map(function(e){return"Wednesday-".concat(e)})),Object(N.a)(this.state.thursdayPreferredTimes&&this.state.thursdayPreferredTimes.map(function(e){return"Thursday-".concat(e)})),Object(N.a)(this.state.fridayPreferredTimes&&this.state.fridayPreferredTimes.map(function(e){return"Friday-".concat(e)})),Object(N.a)(this.state.saturdayPreferredTimes&&this.state.saturdayPreferredTimes.map(function(e){return"Saturday-".concat(e)}))),this.props.timeZone),n=Object.assign({email:this.props.mentorEmail},{preferredTimes:a});fetch("".concat(Nt,"/editTimes"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(){var e=Object(E.a)(v.a.mark(function e(a){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:200!==e.sent.status?I()({title:"Oops!",text:"Something went wrong... Please try again.",icon:"error"}):(I()({title:"All set!",text:"You've just updated your availabilities.",icon:"success"}),t.props.goBack());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(w.a,null,r.a.createElement(T.a,{centered:!0,content:"Please select the times that work for you. All time submissions are in your local time.",style:ue}),r.a.createElement(S.a,null),r.a.createElement(h.a,{columns:7},r.a.createElement(h.a.Column,null,r.a.createElement(D.a,null,"Sunday"),r.a.createElement(S.a,null),r.a.createElement(L.a,{placeholder:"Sunday",fluid:!0,multiple:!0,selection:!0,options:ce,onChange:this.handleChangeSundayTime,name:"Sunday"})),r.a.createElement(h.a.Column,null,r.a.createElement(D.a,null,"Monday"),r.a.createElement(S.a,null),r.a.createElement(L.a,{placeholder:"Monday",fluid:!0,multiple:!0,selection:!0,options:ce,onChange:this.handleChangeMondayTime,name:"Monday"})),r.a.createElement(h.a.Column,null,r.a.createElement(D.a,null,"Tuesday"),r.a.createElement(S.a,null),r.a.createElement(L.a,{placeholder:"Tuesday",fluid:!0,multiple:!0,selection:!0,options:ce,onChange:this.handleChangeTuesdayTime,name:"Tuesday"})),r.a.createElement(h.a.Column,null,r.a.createElement(D.a,null,"Wednesday"),r.a.createElement(S.a,null),r.a.createElement(L.a,{placeholder:"Wednesday",fluid:!0,multiple:!0,selection:!0,options:ce,onChange:this.handleChangeWednesdayTime,name:"Wednesday"})),r.a.createElement(h.a.Column,null,r.a.createElement(D.a,null,"Thursday"),r.a.createElement(S.a,null),r.a.createElement(L.a,{placeholder:"Thursday",fluid:!0,multiple:!0,selection:!0,options:ce,onChange:this.handleChangeThursdayTime,name:"Thursday"})),r.a.createElement(h.a.Column,null,r.a.createElement(D.a,null,"Friday"),r.a.createElement(S.a,null),r.a.createElement(L.a,{placeholder:"Friday",fluid:!0,multiple:!0,selection:!0,options:ce,onChange:this.handleChangeFridayTime,name:"Friday"})),r.a.createElement(h.a.Column,null,r.a.createElement(D.a,null,"Saturday"),r.a.createElement(S.a,null),r.a.createElement(L.a,{placeholder:"Saturday",fluid:!0,multiple:!0,selection:!0,options:ce,onChange:this.handleChangeSaturdayTime,name:"Saturday"}))),r.a.createElement(h.a.Row,{style:{padding:"14px"}}),r.a.createElement(h.a,{columns:2},r.a.createElement(h.a.Column,null,r.a.createElement(p.a,{onClick:function(t){return e.props.goBack(t)}},r.a.createElement(C.a,{name:"backward"}),"Go Back.")),r.a.createElement(h.a.Column,null,r.a.createElement(p.a,{color:"blue",type:"submit",onClick:this.handleSubmit},r.a.createElement(C.a,{name:"unlock"}),"Submit")))))}}]),t}(r.a.Component),de=a(460),he=a(456),pe=a(458),ge="Reach",fe="Match",ve="Safety";function Ee(e){var t={MATCH:[],REACH:[],SAFETY:[]};return e.forEach(function(e){switch(e.rank){case fe:t.MATCH.push(e.name);break;case ge:t.REACH.push(e.name);break;case ve:t.SAFETY.push(e.name)}}),t}var be=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={collegeShortlist:[],grade:"",OALevel:"",SAT:"",OtherExams:"",ECA:[],rank:"",collegeName:"",activityOrAchievement:"",yearsOfCommit:"",positionOrDesc:""},a.componentCleanup=a.componentCleanup.bind(Object(m.a)(a)),a.removeCollege=a.removeCollege.bind(Object(m.a)(a)),a.addCollege=a.addCollege.bind(Object(m.a)(a)),a.removeECA=a.removeECA.bind(Object(m.a)(a)),a.addECA=a.addECA.bind(Object(m.a)(a)),a.updateTracking=a.updateTracking.bind(Object(m.a)(a)),a.getECA=a.getECA.bind(Object(m.a)(a)),a.getCollegesList=a.getCollegesList.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleChangeCollegeRank=a.handleChangeCollegeRank.bind(Object(m.a)(a)),a.handleChangeGrade=a.handleChangeGrade.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleChangeGrade",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({grade:a})}},{key:"handleChangeCollegeRank",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({rank:a})}},{key:"handleChange",value:function(e){e.preventDefault();var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"updateTracking",value:function(e){e.preventDefault(),this.setState({modalOpen:!1});var t={trackingId:this.props.trackingId,menteeId:this.props.menteeId,collegeShortlist:this.state.collegeShortlist,grade:this.state.grade,OALevel:this.state.OALevel,SAT:this.state.SAT,OtherExams:this.state.OtherExams,ECA:this.state.ECA},a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/updateTracking"),{method:"post",headers:a,credentials:"include",body:JSON.stringify(t)}).then(function(){var e=Object(E.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:200!==e.sent.status?I()({title:"Oops!",text:"Something went wrong... Please try again.",icon:"error"}):I()({title:"Updated Application Details!",text:"Mentors will be able to help you better now!",icon:"success"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){window.alert("Something went wrong, the server's funky!")})}},{key:"componentCleanup",value:function(){sessionStorage.setItem("Tracking_LS",JSON.stringify(this.state))}},{key:"componentDidMount",value:function(){var e=this;if(this.props.menteeId){var t=new Headers;t.append("Content-Type","application/json"),t.append("Accept","application/json");var a={menteeId:this.props.menteeId};fetch("".concat(Nt,"/getTracking"),{method:"post",headers:t,credentials:"include",body:JSON.stringify(a)}).then(function(){var t=Object(E.a)(v.a.mark(function t(a){var n,r,o,s,l,i,c,u,m,d;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a;case 2:return n=t.sent,t.next=5,n.json();case 5:n=t.sent,o=(r=n).ECA,s=r.OAlevel,l=r.SAT,i=r.OtherExams,c=r.grade,u=r.collegeShortlist,m=JSON.parse(o),d=JSON.parse(u),e.setState({ECA:m||[],OALevel:s,SAT:l,OtherExams:i,collegeShortlist:d||[],grade:c});case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){return console.log(e)})}window.addEventListener("beforeunload",this.componentCleanup);var n=sessionStorage.getItem("Tracking_LS");if(n)try{this.setState(JSON.parse(n))}catch(r){console.log("Could not get fetch state from local storage for","Tracking_LS")}}},{key:"addCollege",value:function(){var e={rank:this.state.rank,name:this.state.collegeName},t=this.state.collegeShortlist;t.some(function(t){return t.name.toLowerCase()===e.name.toLowerCase()})||(t.push(e),this.setState({collegeShortlist:t}))}},{key:"addECA",value:function(){var e={activityOrAchievement:this.state.activityOrAchievement,yearsOfCommit:this.state.yearsOfCommit,positionOrDesc:this.state.positionOrDesc},t=this.state.ECA;t.push(e),this.setState({ECA:t})}},{key:"removeECA",value:function(e){var t=this.state.ECA;t=t.filter(function(t){return t.activityOrAchievement!==e}),this.setState({ECA:t})}},{key:"getECA",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.state.ECA&&!this.state.ECA.length?r.a.createElement(D.a,{block:!0},"No ECAs added!"):this.state.ECA&&this.state.ECA.map(function(a){return r.a.createElement(de.a.Item,null,r.a.createElement(F.a,null,"Activity/Achievement: ",a.activityOrAchievement,t?r.a.createElement(C.a,{onClick:function(){return e.removeECA(a.activityOrAchievement)},name:"delete"}):null),r.a.createElement(de.a.Description,null,"Position/Description: ",a.positionOrDesc),r.a.createElement(de.a.Description,null,"Commitment: ",a.yearsOfCommit))})}},{key:"removeCollege",value:function(e){var t=this.state.collegeShortlist;t=t.filter(function(t){return t.name!==e}),this.setState({collegeShortlist:t})}},{key:"getCollegesList",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.state.collegeShortlist&&!this.state.collegeShortlist.length)return r.a.createElement(D.a,{block:!0},"No colleges in shortlist!");var a=Ee(this.state.collegeShortlist);return a?Object.keys(a).map(function(n){return a[n].length?r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{size:"large"},n),a[n].map(function(a){return r.a.createElement(de.a.Item,null,r.a.createElement(r.a.Fragment,null,a,t?r.a.createElement(C.a,{name:"delete",onClick:function(){return e.removeCollege(a)}}):null))})):null}):[]}},{key:"render",value:function(){var e=this,t=[ge,fe,ve].map(function(e){return{key:e,value:e,text:e}}),a=r.a.createElement(y.a,null,r.a.createElement(A.a,{onSubmit:this.addCollege},r.a.createElement(A.a.Field,null,r.a.createElement(D.a,{block:!0},"College Shortlist"),r.a.createElement(de.a,null,this.getCollegesList()),r.a.createElement(q.a,{type:"text",placeholder:"New College...",action:!0,name:"collegeName",onChange:this.handleChange},r.a.createElement("input",null),r.a.createElement(he.a,{compact:!0,options:t,defaultValue:null,name:"rank",onChange:this.handleChangeCollegeRank}),r.a.createElement(p.a,{type:"submit"},"Add College"))))),n=r.a.createElement(y.a,null,r.a.createElement(A.a,{onSubmit:this.addECA},r.a.createElement(D.a,{block:!0},"ECA Profile"),r.a.createElement(de.a,null,this.getECA()),r.a.createElement(A.a.Field,{type:"text"},r.a.createElement("label",null,"Activity or Achievement"),r.a.createElement("input",{maxLength:100,placeholder:"Activity... ",name:"activityOrAchievement",onChange:this.handleChange,value:this.state.activityOrAchievement})),r.a.createElement(A.a.Field,{type:"text"},r.a.createElement("label",null,"Years of commitment"),r.a.createElement("input",{maxLength:100,placeholder:"Years involved... ",name:"yearsOfCommit",onChange:this.handleChange,value:this.state.yearsOfCommit})),r.a.createElement(A.a.Field,{type:"text"},r.a.createElement("label",null,"Position/Description"),r.a.createElement("input",{maxLength:100,placeholder:"Position or brief description of role... ",name:"positionOrDesc",onChange:this.handleChange,value:this.state.positionOrDesc})),r.a.createElement(p.a,{type:"submit"},"Add ECA"))),o=r.a.createElement(y.a,null,r.a.createElement(A.a,{onSubmit:this.updateTracking},r.a.createElement(A.a.Field,null,r.a.createElement("label",null,"Current Class/Grade"),r.a.createElement(he.a,{compact:!0,options:["8th","9th","11th","12th"].map(function(e){return{key:e,value:e,text:e}}),defaultValue:null,name:"grade",onChange:this.handleChangeGrade})),r.a.createElement(A.a.Field,{type:"text"},r.a.createElement("label",null,"O/A Level (or equivalent)"),r.a.createElement("input",{maxLength:200,placeholder:"Your O/A level results...",name:"OALevel",onChange:this.handleChange,value:this.state.OALevel})),r.a.createElement(A.a.Field,{type:"text"},r.a.createElement("label",null,"SAT"),r.a.createElement("input",{maxLength:200,placeholder:"Your SAT results... (or registration date)",name:"SAT",onChange:this.handleChange,value:this.state.SAT})),r.a.createElement(A.a.Field,{type:"text"},r.a.createElement("label",null,"Other Exams"),r.a.createElement("input",{maxLength:200,placeholder:"Any other exam results... (or registration dates)",name:"OtherExams",onChange:this.handleChange,value:this.state.OtherExams})))),s=r.a.createElement("div",null,r.a.createElement(S.a,null),r.a.createElement(pe.a,{open:this.state.modalOpen,trigger:r.a.createElement(p.a,{onClick:function(){e.setState({modalOpen:!0})},centered:!0,style:{width:"100%"}},"Update Application Details")},r.a.createElement(pe.a.Header,null,"Application Details"),r.a.createElement(pe.a.Content,null,a,n,o),r.a.createElement(pe.a.Actions,null,r.a.createElement(p.a,{onClick:function(){e.setState({modalOpen:!1})}},"Close"),r.a.createElement(p.a,{disabled:!this.state.grade&&!this.state.OALevel&&!this.state.OtherExams&&!this.state.OtherExams&&!this.state.rank&&!this.state.collegeName&&!this.state.positionOrDesc&&!this.state.yearsOfCommit&&!this.state.activityOrAchievement,onClick:this.updateTracking},"Update"))));return r.a.createElement("div",null,r.a.createElement(S.a,null),r.a.createElement(O.a,null,r.a.createElement(O.a.Content,{centered:!0},r.a.createElement(O.a.Header,null,"Progress"),this.state.grade||this.state.OALevel||this.state.OtherExams||this.state.collegeShortlist.length||this.state.ECA.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a.Meta,null,"Application details not added...")," "),this.state.collegeShortlist&&this.state.collegeShortlist.length?r.a.createElement(y.a,null,r.a.createElement(D.a,{block:!0},"College Shortlist"),r.a.createElement(de.a,null,this.getCollegesList(!1))):null,this.state.ECA&&this.state.ECA.length?r.a.createElement(y.a,null,r.a.createElement(D.a,{block:!0},"ECA Profile"),r.a.createElement(de.a,null,this.getECA(!1))):null,this.state.grade?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a.Meta,null,"Grade"),r.a.createElement(O.a.Description,null,this.state.grade)):null,this.state.OALevel?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a.Meta,null,"O/A Results (or equivalent)"),r.a.createElement(O.a.Description,null,this.state.OALevel)):null,this.state.OtherExams?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a.Meta,null,"Other Scores"),r.a.createElement(O.a.Description,null,this.state.OtherExams)):null),this.props.viewMode?null:s))}}]),t}(r.a.Component),ye=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={editMode:!1,timeSelect:!1},a.goBack=a.goBack.bind(Object(m.a)(a)),a.launchEditMode=a.launchEditMode.bind(Object(m.a)(a)),a.launchTimeSelector=a.launchTimeSelector.bind(Object(m.a)(a)),a.componentCleanup=a.componentCleanup.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentCleanup",value:function(){sessionStorage.setItem("Profile_LS",JSON.stringify(this.state))}},{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.componentCleanup);var e=sessionStorage.getItem("Profile_LS");if(e)try{this.setState(JSON.parse(e))}catch(t){console.log("Could not get fetch state from local storage for","Profile_LS")}}},{key:"componentWillUnmount",value:function(){this.props.isMentor&&(this.componentCleanup(),window.removeEventListener("beforeunload",this.componentCleanup))}},{key:"goBack",value:function(){this.setState({editMode:!1,timeSelect:!1})}},{key:"launchEditMode",value:function(e){e.preventDefault(),this.setState({editMode:!0})}},{key:"launchTimeSelector",value:function(e){e.preventDefault(),this.setState({timeSelect:!0,editMode:!0})}},{key:"render",value:function(){var e=this,t=r.a.createElement(p.a,{onClick:function(t){return e.launchEditMode(t)}},r.a.createElement(C.a,{name:"edit"}),"Edit Profile"),a=r.a.createElement(h.a,{columns:2},r.a.createElement(h.a.Column,null,t),r.a.createElement(h.a.Column,null,r.a.createElement(p.a,{onClick:function(t){return e.launchTimeSelector(t)}},r.a.createElement(C.a,{name:"calendar"}),"Change Time Preferences"))),n=r.a.createElement(h.a,{columns:2},r.a.createElement(h.a.Column,null,r.a.createElement(j,{name:this.props.name,image:this.props.image}),this.props.viewMode?null:this.props.isMentor?a:t,r.a.createElement(S.a,null),this.props.viewMode?r.a.createElement(p.a,{onClick:function(){return e.props.goBackToMentorNetwork()}},r.a.createElement(C.a,{name:"backward"}),"Back to network"):null),r.a.createElement(h.a.Column,null,r.a.createElement(x,{name:this.props.name,school:this.props.school,memberSince:this.props.memberSince,aboutYourself:this.props.aboutYourself,position:this.props.isMentor?this.props.position:null,isMentor:this.props.isMentor,languages:this.props.languages,mentorIdForStats:this.props.id}),this.props.isMentor?null:this.props.id?r.a.createElement(y.a,null,r.a.createElement(be,{menteeId:this.props.id,trackingId:this.props.trackingId})):null));return r.a.createElement(w.a,null,this.state.editMode?this.state.timeSelect?r.a.createElement(me,{mentorEmail:this.props.email,goBack:this.goBack,timeZone:this.props.timeZone}):r.a.createElement(ie,{email:this.props.email,isMentor:this.props.isMentor,name:this.props.name,goBack:this.goBack,school:this.props.school,location:this.props.location,aboutYourself:this.props.aboutYourself,position:this.props.position,major:this.props.major,zoom_info:this.props.zoom_info}):n)}}]),t}(r.a.Component),Ce=a(459),Se={padding:"3px 3px 3px 3px"},we={padding:"5px 5px 5px 5px",background:"#FFEBAA"},Oe={padding:"4px 4px 4px 4px",background:"#FFD393"},ke={width:"100%",padding:"5px",margin:"5px",background:"#FDFBDF"},je={width:"100%",padding:"5px",margin:"5px","overflow-y":"scroll",background:"#FDFBDF","max-height":"300px"},Te={width:"80%",padding:"5px",margin:"5px",background:"#FFEBAA",float:"left"},Me={width:"80%",padding:"5px",margin:"5px",background:"#FFD393",float:"right"},xe={width:"90%",padding:"8px 8px 8px 8px",margin:"3px 3px 3px 3px"},Ae=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getEvents=a.getEvents.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"getEvents",value:function(e){return e.map(function(e){var t=r.a.createElement(Ce.a.Event,null,r.a.createElement(Ce.a.Content,null,r.a.createElement(Ce.a.Summary,null,e.message),r.a.createElement(Ce.a.Meta,null,r.a.createElement("strong",null,e.sender))));switch(e.role){case"mentee":return r.a.createElement("div",{style:Te},t,r.a.createElement(S.a,null));case"mentor":return r.a.createElement("div",{style:Me},t,r.a.createElement(S.a,null));default:return null}})}},{key:"render",value:function(){return r.a.createElement(Ce.a,{style:je},this.getEvents(this.props.events))}}]),t}(r.a.Component),Le=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_BACKEND:"ec2-54-174-119-87.compute-1.amazonaws.com:8080"}).REACT_APP_MAX_CHARS_MESSAGE||200;function Pe(e,t,a){return e.map(function(e){var n=e.substring(0,13),r=e.substring(14);return{role:a,date:n,sender:"".concat(t," (").concat(a,")"),message:r}})}var Ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={message:"",modalOpen:!1},a.provideFeedback=a.provideFeedback.bind(Object(m.a)(a)),a.sendMessage=a.sendMessage.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.getMessageEvents=a.getMessageEvents.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){e.preventDefault();var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"getMessageEvents",value:function(e,t){var a=this.props.mentee,n=this.props.mentor,r=Pe(t,a,"mentee"),o=Pe(e,n,"mentor"),s=[].concat(Object(N.a)(r),Object(N.a)(o));return s.sort(function(e,t){return e.dateString>t.dateString?1:e.dateString<t.dateString?-1:0}),s}},{key:"sendMessage",value:function(e){e.preventDefault(),this.setState({modalOpen:!1});var t={requestId:this.props.requestId,message:this.state.message,isMentor:!1},a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/postMessage"),{method:"post",headers:a,credentials:"include",body:JSON.stringify(t)}).then(function(){var e=Object(E.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:200!==e.sent.status?I()({title:"Oops!",text:"Something went wrong... Please try again.",icon:"error"}):I()({title:"Message Sent!",text:"You just pinged your mentor.",icon:"success"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){window.alert("Something went wrong, the server's funky!")})}},{key:"provideFeedback",value:function(e){var t=this;e.preventDefault(),I()({text:"What did you like about the call? What could have been better?",content:"input",button:{text:"Submit!",closeModal:!0}}).then(function(e){var a={requestId:t.props.requestId,mentee_feedback:e},n=new Headers;n.append("Content-Type","application/json"),n.append("Accept","application/json"),fetch("".concat(Nt,"/giveFeedback"),{method:"post",credentials:"include",headers:n,body:JSON.stringify(a)}).then(function(e){200!==e.status?I()({title:"Oops!",text:"Something went wrong! Please try again.",icon:"error"}):I()({title:"Thank you for your feedback.",text:"Best of luck! App will now refresh to update appointments.",icon:"success"}).then(function(){window.location.reload()})})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.time,n=t.topic,o=t.mentor,s=this.props.confirmed&&!this.props.requestDone?"Join Video Call":this.props.requestDone?"Call Completed":"Awaiting Confirmation...";return r.a.createElement(O.a,{style:{width:"100%",padding:"5px",margin:"5px"}},r.a.createElement(O.a.Content,null,r.a.createElement(O.a.Header,null,"Call with: ",o),r.a.createElement(O.a.Meta,null,a),r.a.createElement(O.a.Description,null,"You are scheduled for 30 minutes to discuss ",n)),r.a.createElement(O.a.Content,{extra:!0},r.a.createElement("div",{className:"ui two buttons"},r.a.createElement(p.a,{basic:!0,color:"dark orange",disabled:!this.props.confirmed||this.props.requestDone,onClick:function(){return window.open(e.props.meetingRoom)}},s),r.a.createElement(p.a,{onClick:this.props.requestDone?this.provideFeedback:null,basic:!0,color:"yellow",disabled:!this.props.requestDone},"Provide Feedback")),r.a.createElement(S.a,null),r.a.createElement(pe.a,{open:this.state.modalOpen,trigger:r.a.createElement(p.a,{onClick:function(){e.setState({modalOpen:!0})},centered:!0,style:{width:"100%"}},"Chat!")},r.a.createElement(pe.a.Header,null,"Your conversation with ",o),r.a.createElement(pe.a.Content,null,r.a.createElement(Ae,{events:this.getMessageEvents(this.props.mentorMessages,this.props.menteeMessages)}),r.a.createElement(A.a,{onSubmit:this.sendMessage},r.a.createElement(A.a.Field,{type:"text"},r.a.createElement("label",null,"Message"),r.a.createElement("input",{maxlength:Le,placeholder:"Your message...",name:"message",onChange:this.handleChange,value:this.state.message})),r.a.createElement(p.a,{color:"blue",type:"submit",disabled:!this.state.message},"Send"))),r.a.createElement(pe.a.Actions,null,r.a.createElement(p.a,{onClick:function(){e.setState({modalOpen:!1})}},"Done")))))}}]),t}(r.a.Component),Ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={name:"",school:"",ECA:[],collegeShortlist:[],grade:"",image:"",memberSince:"",location:""},a.getECA=a.getECA.bind(Object(m.a)(a)),a.getCollegesList=a.getCollegesList.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.menteeId){var t=new Headers;t.append("Content-Type","application/json"),t.append("Accept","application/json");var a={menteeId:this.props.menteeId};fetch("".concat(Nt,"/getMenteeInfo"),{method:"post",headers:t,credentials:"include",body:JSON.stringify(a)}).then(function(){var t=Object(E.a)(v.a.mark(function t(a){var n,r,o,s,l,i,c,u,m,d,h,p,g,f,E;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a;case 2:return n=t.sent,t.next=5,n.json();case 5:n=t.sent,o=(r=n).name,s=r.ECA,l=r.OAlevel,i=r.SAT,c=r.OtherExams,u=r.grade,m=r.collegeShortlist,d=r.memberSince,h=r.location,p=r.image,g=r.school,f=s&&JSON.parse(s),E=m&&JSON.parse(m),e.setState({ECA:f||[],OALevel:l,SAT:i,OtherExams:c,collegeShortlist:E||[],grade:u,name:o,memberSince:d,image:p,location:h,school:g});case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){return console.log(e)})}}},{key:"getECA",value:function(){return this.state.ECA&&!this.state.ECA.length?r.a.createElement(D.a,{block:!0},"No ECAs added!"):this.state.ECA&&this.state.ECA.map(function(e){return r.a.createElement(de.a.Item,null,r.a.createElement(F.a,null,"Activity/Achievement: ",e.activityOrAchievement),r.a.createElement(de.a.Description,null,"Position/Description: ",e.positionOrDesc),r.a.createElement(de.a.Description,null,"Commitment: ",e.yearsOfCommit))})}},{key:"getCollegesList",value:function(){if(this.state.collegeShortlist&&!this.state.collegeShortlist.length)return r.a.createElement(D.a,{block:!0},"No colleges in shortlist!");var e=Ee(this.state.collegeShortlist);return e?Object.keys(e).map(function(t){return e[t].length?r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{size:"large"},t),e[t].map(function(e){return r.a.createElement(de.a.Item,null,r.a.createElement(r.a.Fragment,null,e))})):null}):[]}},{key:"render",value:function(){var e=this;return r.a.createElement(pe.a,{open:this.state.modalOpen,trigger:r.a.createElement(p.a,{style:xe,onClick:function(){e.setState({modalOpen:!0})}},"View ",this.state.name,"'s Profile")},r.a.createElement(pe.a.Header,null,this.state.name),r.a.createElement(pe.a.Content,null,r.a.createElement(O.a,{centered:!0},r.a.createElement(k.a,{src:this.state.image,wrapped:!0,ui:!1}),r.a.createElement(O.a.Content,null,r.a.createElement(O.a.Header,null,"Attends ",this.state.school,", in ",this.state.grade," grade"),r.a.createElement(O.a.Meta,null,r.a.createElement("span",{className:"date"},"Member since ",this.state.memberSince)),r.a.createElement(O.a.Meta,null,"Location: ",this.state.location)),r.a.createElement(O.a.Content,{centered:!0},r.a.createElement(y.a,{style:{width:"95%"}},r.a.createElement("strong",null,r.a.createElement("label",null,"Colleges in shortlist:")," "),r.a.createElement("br",null),this.getCollegesList()),r.a.createElement(y.a,{style:{width:"95%"}},r.a.createElement("strong",null,r.a.createElement("label",null,"Extra-curricular activities:")),this.getECA())))),r.a.createElement(pe.a.Actions,null,r.a.createElement(p.a,{onClick:function(){e.setState({modalOpen:!1})}},"Close")))}}]),t}(r.a.Component),De=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_BACKEND:"ec2-54-174-119-87.compute-1.amazonaws.com:8080"}).REACT_APP_MAX_CHARS_MESSAGE||200,Fe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={message:"",modalOpen:!1,modalProfileViewOpen:!1,menteeId:a.props.menteeId},a.handleConfirm=a.handleConfirm.bind(Object(m.a)(a)),a.handleMarkAsComplete=a.handleMarkAsComplete.bind(Object(m.a)(a)),a.handleDismiss=a.handleDismiss.bind(Object(m.a)(a)),a.sendMessage=a.sendMessage.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.getMessageEvents=a.getMessageEvents.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){e.preventDefault();var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"getMessageEvents",value:function(e,t){var a=this.props.mentee.name,n=this.props.mentorName,r=Pe(t,a,"mentee"),o=Pe(e,n,"mentor"),s=[].concat(Object(N.a)(r),Object(N.a)(o));return s.sort(function(e,t){return e.dateString>t.dateString?1:e.dateString<t.dateString?-1:0}),s}},{key:"sendMessage",value:function(e){e.preventDefault(),this.setState({modalOpen:!1});var t={requestId:this.props.requestId,message:this.state.message,isMentor:!0},a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/postMessage"),{method:"post",headers:a,credentials:"include",body:JSON.stringify(t)}).then(function(){var e=Object(E.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:200!==e.sent.status?I()({title:"Oops!",text:"Something went wrong... Please try again.",icon:"error"}):I()({title:"Message Sent!",text:"You just pinged your mentor.",icon:"success"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){window.alert("Something went wrong, the server's funky!")})}},{key:"handleConfirm",value:function(e){var t=this;e.preventDefault();var a={requestId:this.props.requestId},n=new Headers;n.append("Content-Type","application/json"),n.append("Accept","application/json"),fetch("".concat(Nt,"/confirmRequest"),{method:"post",credentials:"include",headers:n,body:JSON.stringify(a)}).then(function(e){200!==e.status?console.log("Request failed"):(console.log("received response",e.json()),I()({title:"You've confirmed a call with ".concat(t.props.mentee.name),text:"App will now refresh to reflect view current state of appointments.",icon:"success"}).then(function(){window.location.reload()}))})}},{key:"handleMarkAsComplete",value:function(e){e.preventDefault();var t={requestId:this.props.requestId},a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/markRequestDone"),{method:"post",credentials:"include",headers:a,body:JSON.stringify(t)}).then(function(e){200!==e.status?console.log("Request failed"):(console.log("received response",e.json()),I()({title:"Congratulations on completing the request!",text:"App will now refresh to reflect view current state of appointments.",icon:"success"}).then(function(){window.location.reload()}))})}},{key:"handleDismiss",value:function(e){e.preventDefault();var t={requestId:this.props.requestId},a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/deleteRequest"),{method:"post",credentials:"include",headers:a,body:JSON.stringify(t)}).then(function(e){200!==e.status?I()({title:"Oops!",text:"Something went wrong! Please try again.",icon:"error"}):I()({title:"Successfully dimissed request.",text:"App will now refresh to reflect view current state of appointments.",icon:"success"}).then(function(){window.location.reload()})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.mentee,n=t.topic,o=t.time,s=t.mentorTimeZone,l=a.schoolCustom?a.schoolCustom:a.school?a.school.name:"None listed.";return r.a.createElement(O.a,{style:{width:"100%",padding:"5px",margin:"5px"}},r.a.createElement(O.a.Content,null,r.a.createElement(O.a.Header,null,"Request from ",a.name),r.a.createElement(O.a.Meta,null,"Topic ",n," at ",Y(o,s)),r.a.createElement(O.a.Meta,null,"Message from mentee: ",this.props.mentee_intro),r.a.createElement(O.a.Description,null,a.name," attends ",l," and is from ",a.location)),r.a.createElement(O.a.Content,{extra:!0},r.a.createElement("div",{className:"ui two buttons"},r.a.createElement(p.a,{onClick:function(t){return e.props.confirmed?window.open(e.props.meetingRoom):e.handleConfirm(t)},basic:!0,color:"dark orange"},this.props.confirmed?"Join Video Call":"Confirm"),r.a.createElement(p.a,{onClick:function(t){return e.props.confirmed?e.handleMarkAsComplete(t):e.handleDismiss(t)},basic:!0,color:"yellow"},this.props.confirmed?"Mark as Complete":"Dismiss")),r.a.createElement(S.a,null),r.a.createElement("div",{className:"ui two buttons"},r.a.createElement(pe.a,{open:this.state.modalOpen,trigger:r.a.createElement(p.a,{onClick:function(){e.setState({modalOpen:!0})}},"Chat!")},r.a.createElement(pe.a.Header,null,"Your conversation with ",a.name),r.a.createElement(pe.a.Content,null,r.a.createElement(Ae,{events:this.getMessageEvents(this.props.mentorMessages,this.props.menteeMessages)}),r.a.createElement(A.a,{onSubmit:this.sendMessage},r.a.createElement(A.a.Field,{type:"text"},r.a.createElement("label",null,"Message"),r.a.createElement("input",{maxlength:De,placeholder:"Your message...",name:"message",onChange:this.handleChange,value:this.state.message})),r.a.createElement(p.a,{color:"blue",type:"submit",disabled:!this.state.message},"Send"))),r.a.createElement(pe.a.Actions,null,r.a.createElement(p.a,{onClick:function(){e.setState({modalOpen:!1})}},"Done"))),r.a.createElement(Ne,{menteeId:this.state.menteeId}))))}}]),t}(r.a.Component),qe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).renderRequestCards=a.renderRequestCards.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"renderRequestCards",value:function(e){var t=this;if(e.length)return e.map(function(e){return r.a.createElement(Fe,{mentorTimeZone:t.props.mentorTimeZone,mentorName:t.props.mentorName,topic:e.topic,time:e.dateTime,requestId:e.id,meetingRoom:e.mentor.zoom_info,mentee:e.mentee,confirmed:t.props.confirmed,mentee_intro:e.mentee_intro,menteeMessages:e.menteeMessages||[],mentorMessages:e.mentorMessages||[],menteeId:e.mentee.id})});var a=this.props.confirmed?"No confirmed calls!":"No requests!",n=this.props.confirmed?"This is where confirmed calls will appear":"This is where new call requests from mentees will appear...",o=this.props.confirmed?"Please confirm calls you want to accept from backlog.":"Consider editing your time availabilities if you're really itching to consult a mentee!";return r.a.createElement(O.a,{style:{width:"100%",padding:"5px",margin:"5px"}},r.a.createElement(O.a.Content,null,r.a.createElement(O.a.Header,null,a),r.a.createElement(O.a.Meta,null,n),r.a.createElement(O.a.Description,null,o)))}},{key:"render",value:function(){return r.a.createElement(w.a,null,this.renderRequestCards(this.props.calls))}}]),t}(r.a.Component),Re=a(465),_e=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(h.a.Column,{width:6},r.a.createElement(Re.a,{open:!1,onSearchChange:this.props.onSearchMode,placeholder:"Search by key words...",value:this.props.searchValue})))}}]),t}(n.Component),Be=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.name,o=t.image,s=t.school,l=t.position,i=t.location;return r.a.createElement(O.a,{centered:!0,style:{width:"100%",padding:"5px",margin:"5px"}},r.a.createElement(h.a,{columns:3},r.a.createElement(h.a.Column,{width:4},r.a.createElement(k.a,{style:{width:"200px",height:"150px","object-fit":"cover"},src:o})),r.a.createElement(h.a.Column,{width:9},r.a.createElement(O.a.Content,null,r.a.createElement(O.a.Header,null,n),r.a.createElement(O.a.Description,null,"School: ",s),r.a.createElement(O.a.Description,null,"Position: ",l),r.a.createElement(O.a.Description,null,"Location: ",i))),r.a.createElement(h.a.Column,{width:3},this.props.viewedAsMentor?null:r.a.createElement("div",null,r.a.createElement(h.a.Row,null,r.a.createElement(p.a,{disabled:!this.props.hasTimesAvailable,onClick:function(){return e.props.pickMentor(a)},class:"ui button"},"Book!")),r.a.createElement(S.a,null)),r.a.createElement(h.a.Row,null,r.a.createElement(p.a,{class:"ui button",value:a,onClick:this.props.viewProfile},r.a.createElement(C.a,{name:"user"}),"Go to Profile")))))}}]),t}(r.a.Component),Je=K.map(function(e){return{key:e,text:e,value:e}}),He=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={mentors:[],searchMode:!1,searchTerms:"",searchTopic:""},a.updateSearchTerms=a.updateSearchTerms.bind(Object(m.a)(a)),a.componentCleanup=a.componentCleanup.bind(Object(m.a)(a)),a.handleChangeTopic=a.handleChangeTopic.bind(Object(m.a)(a)),a.viewProfile=a.viewProfile.bind(Object(m.a)(a)),a.clearSearch=a.clearSearch.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentCleanup",value:function(){sessionStorage.setItem("MentorNetwork_LS",JSON.stringify(this.state))}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("beforeunload",this.componentCleanup);var t=sessionStorage.getItem("MentorNetwork_LS");if(t)try{this.setState(JSON.parse(t))}catch(n){console.log("Could not get fetch state from local storage for","MentorNetwork_LS")}var a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/getAllMentors"),{method:"get",credentials:"include",headers:a}).then(function(){var t=Object(E.a)(v.a.mark(function t(a){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a;case 2:return n=t.sent,t.next=5,n.json();case 5:n=t.sent,e.setState({mentors:n&&n.mentors});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"viewProfile",value:function(e,t){var a=t.value;e.preventDefault();var n=this.state.mentors.find(function(e){return e.id===a});this.props.viewMentorProfile(n)}},{key:"componentWillUnmount",value:function(){this.componentCleanup(),window.removeEventListener("beforeunload",this.componentCleanup)}},{key:"updateSearchTerms",value:function(e,t){var a=t.value;e.preventDefault(),a?this.setState({searchTerms:a,searchMode:!0}):this.setState({searchMode:!1,searchTerms:a})}},{key:"getBagofWords",value:function(e){return[e.name,e.school,e.position,e.location]}},{key:"handleChangeTopic",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({searchTopic:a,searchMode:!0})}},{key:"clearSearch",value:function(e){e.preventDefault(),this.setState({searchMode:!1,searchTerms:"",searchTopic:""})}},{key:"filterResults",value:function(e){var t=this;return this.state.searchTerms?e.filter(function(e){for(var a=t.getBagofWords(e),n=t.state.searchTerms,r=0;r<a.length;r++)if(a[r].toLowerCase().includes(n.toLowerCase()))return!0}):this.state.searchTopic?e.filter(function(e){return e.preferredTopics.includes(t.state.searchTopic)}):void 0}},{key:"renderUserCards",value:function(e){var t=this;return this.props.isMentor&&(e=e.filter(function(e){return e.id!==t.props.myId})),(e=e.filter(function(e){return e.approved})).map(function(e){var a=e.preferredTimes[0].length>0;return r.a.createElement(Be,{id:e.id,name:e.name,school:e.school,position:e.position,location:e.location,image:e.image,pickMentor:t.props.pickMentor,viewProfile:t.viewProfile,viewedAsMentor:t.props.isMentor,hasTimesAvailable:a})})}},{key:"render",value:function(){return r.a.createElement(w.a,null,r.a.createElement(h.a,{columns:2},r.a.createElement(h.a.Column,{width:10},"There as ",this.state.mentors.length," Mentors currently in network. ",this.props.isMentor?"That includes YOU!":""," Only verified mentors will be listed."),r.a.createElement(h.a.Column,{width:6},r.a.createElement(h.a.Row,null,r.a.createElement(_e,{onSearchMode:this.updateSearchTerms,searchValue:this.state.searchTerms})),r.a.createElement(S.a,null),r.a.createElement(h.a.Row,null,r.a.createElement(L.a,{placeholder:"Search by topic",fluid:!0,selection:!0,options:Je,onChange:this.handleChangeTopic,name:"searchTopic",value:this.state.searchTopic})),r.a.createElement(S.a,null),r.a.createElement(h.a.Row,null,r.a.createElement(p.a,{onClick:this.clearSearch},"Clear Search")))),r.a.createElement(w.a,null,this.state.searchMode?this.renderUserCards(this.filterResults(this.state.mentors)):this.renderUserCards(this.state.mentors)))}}]),t}(r.a.Component),Ye="My Profile",We=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleItemClick=function(e,t){var n=t.name;return a.setState({activeItem:n})},a.state={activeItem:Ye,data:{},requests:null},a.getRequests=a.getRequests.bind(Object(m.a)(a)),a.getConfirmedCalls=a.getConfirmedCalls.bind(Object(m.a)(a)),a.getBacklog=a.getBacklog.bind(Object(m.a)(a)),a.viewMentorProfile=a.viewMentorProfile.bind(Object(m.a)(a)),a.goBackToMentorNetwork=a.goBackToMentorNetwork.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"goBackToMentorNetwork",value:function(){this.setState({activeItem:"Mentor Network"})}},{key:"viewMentorProfile",value:function(e){this.setState({activeItem:"Mentor Profile",mentorFetchedForView:e})}},{key:"getConfirmedCalls",value:function(){return this.state.requests.filter(function(e){return e.confirmed&&!e.done})}},{key:"getBacklog",value:function(){return this.state.requests.filter(function(e){return!e.confirmed})}},{key:"getRequests",value:function(){var e=Object(E.a)(v.a.mark(function e(t){var a,n=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),a.append("Accept","application/json"),e.next=5,fetch("".concat(Nt,"/getRequests"),{method:"post",credentials:"include",headers:a,body:JSON.stringify({mentorId:t})}).then(function(){var e=Object(E.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(a=e.sent,200===t.status){e.next=7;break}console.log("Request getRequests failed"),e.next=11;break;case 7:return e.next=9,a.json();case 9:a=e.sent,n.setState({requests:a});case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;this.setState({data:this.props.payload.mentor},Object(E.a)(v.a.mark(function t(){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getRequests(e.state.data.id);case 2:case"end":return t.stop()}},t)})))}},{key:"renderNavSelection",value:function(){switch(this.state.activeItem){case Ye:return r.a.createElement(ye,{id:this.state.data.id||this.props.payload.mentor.id,email:this.state.data.email,image:this.state.data.image,name:this.state.data.name,school:this.state.data.school,memberSince:this.state.data.memberSince,aboutYourself:this.state.data.aboutYourself,isMentor:!0,position:this.state.data.position,major:this.state.data.major,location:this.state.data.location,timeZone:this.state.data.timeZone,zoom_info:this.state.data.zoom_info,languages:this.state.data.languages});case"Backlog":return r.a.createElement(qe,{calls:this.getBacklog(),mentorTimeZone:this.state.data.timeZone,confirmed:!1,mentorName:this.state.data.name});case"Confirmed Calls":return r.a.createElement(qe,{calls:this.getConfirmedCalls(),mentorTimeZone:this.state.data.timeZone,confirmed:!0,mentorEmail:this.state.data.email,mentorName:this.state.data.name});case"Mentor Network":return r.a.createElement(He,{pickMentor:this.handleNewScheduleWithMentor,viewMentorProfile:this.viewMentorProfile,myId:this.props.payload&&this.props.payload.mentor.id,isMentor:!0});case"Mentor Profile":return r.a.createElement(ye,{id:this.state.mentorFetchedForView.id,image:this.state.mentorFetchedForView.image,name:this.state.mentorFetchedForView.name,school:this.state.mentorFetchedForView.school,memberSince:this.state.mentorFetchedForView.memberSince,aboutYourself:this.state.mentorFetchedForView.aboutYourself,position:this.state.mentorFetchedForView.position,major:this.state.mentorFetchedForView.major,location:this.state.mentorFetchedForView.location,timeZone:this.state.mentorFetchedForView.timeZone,languages:this.state.mentorFetchedForView.languages,viewMode:!0,isMentor:!0,goBackToMentorNetwork:this.goBackToMentorNetwork});default:return null}}},{key:"render",value:function(){var e=this.state.activeItem.activeItem;return r.a.createElement("div",null,r.a.createElement(b.a,{pointing:!0},r.a.createElement(b.a.Item,{name:Ye,active:e===Ye,onClick:this.handleItemClick}),r.a.createElement(b.a.Item,{name:"Mentor Network",active:"Mentor Network"===e,onClick:this.handleItemClick}),r.a.createElement(b.a.Item,{name:"Backlog",active:"Backlog"===e,onClick:this.handleItemClick}),r.a.createElement(b.a.Item,{name:"Confirmed Calls",active:"Confirmed Calls"===e,onClick:this.handleItemClick})),r.a.createElement(y.a,null,this.renderNavSelection()))}}]),t}(n.Component),Ue=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={schedules:[],menteeId:null},a.renderScheduleCards=a.renderScheduleCards.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new Headers;t.append("Content-Type","application/json"),t.append("Accept","application/json"),this.setState({menteeId:this.props.menteeId},Object(E.a)(v.a.mark(function a(){return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(Nt,"/getAllRequestsForMentee"),{method:"post",credentials:"include",headers:t,body:JSON.stringify({menteeId:e.props.menteeId})}).then(function(){var t=Object(E.a)(v.a.mark(function t(a){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a;case 2:if(200===(n=t.sent).status){t.next=7;break}console.log("Request to get mentee schedules was not successful"),t.next=11;break;case 7:return t.next=9,a.json();case 9:n=t.sent,e.setState({schedules:n});case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a)})))}},{key:"renderScheduleCards",value:function(){var e=this.state.schedules&&this.state.schedules.filter(function(e){return!e.feedback_given});if(e.length)return e.map(function(e){return r.a.createElement(Ie,{time:Y(e.dateTime,e.mentee.timeZone),topic:e.topic,mentor:e.mentor.name,mentee:e.mentee.name,requestId:e.id,meetingRoom:e.mentor.zoom_info,requestDone:e.done,confirmed:e.confirmed,mentorMessages:e.mentorMessages||[],menteeMessages:e.menteeMessages||[]})});return r.a.createElement(O.a,{style:{width:"100%",padding:"5px",margin:"5px"}},r.a.createElement(O.a.Content,null,r.a.createElement(O.a.Header,null,"No Scheduled Calls Yet!"),r.a.createElement(O.a.Meta,null,"Try booking an appointment with one of our mentors..."),r.a.createElement(O.a.Description,null,"There may just be 30 minutes between you and the next chapter of your life!")))}},{key:"render",value:function(){return r.a.createElement(w.a,null,this.renderScheduleCards())}}]),t}(r.a.Component),Ve={padding:"20px",margin:"10px"},Ge=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={timesOptions:[],timeSelection:[],submitting:!1},a.handleChangeTime=a.handleChangeTime.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(){var e=Object(E.a)(v.a.mark(function e(t){var a,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({submitting:!0}),a={times:this.state.timeSelection,topics:this.props.topics},(n=new Headers).append("Content-Type","application/json"),n.append("Accept","application/json"),e.next=8,fetch("".concat(Nt,"/addRequests"),{method:"post",credentials:"include",headers:n,body:JSON.stringify(a)}).then(function(){var e=Object(E.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:200===t.status?I()({title:"Thanks!",text:"Your submission has been received.",icon:"success"}):I()({title:"Yikes!",text:"Something went wrong, please try again.",icon:"error"});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleChangeTime",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({timeSelection:a},function(){})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.mentorsByTopic&&this.props.mentorsByTopic.map(function(t){return t.preferredTimes.map(function(a){return H(a,e.props.menteeTimeZone).map(function(a){return{key:"".concat(a,",").concat(t.id,",").concat(e.props.menteeId),text:a,value:"".concat(a,",").concat(t.id,",").concat(e.props.menteeId)}})})});this.setState({timesOptions:t.flat().flat()||[]})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T.a,{style:Ve,attached:!0,centered:!0,header:"Select the times that work for you.",content:"We will match you to a mentor."}),r.a.createElement(h.a,null,r.a.createElement(h.a.Column,{centered:!0},r.a.createElement(h.a.Row,null,r.a.createElement(A.a,null,r.a.createElement(A.a.Field,null,r.a.createElement(L.a,{placeholder:"Preferred Times",fluid:!0,multiple:!0,selection:!0,options:this.state.timesOptions,onChange:this.handleChangeTime,name:"preferredTimes"})),r.a.createElement(h.a.Row,null,r.a.createElement(p.a,{loading:this.state.submitting,onClick:this.handleSubmit},"Submit")))))))}}]),t}(r.a.Component),Ze=["ECA Development","Essay Critique","Essay Brainstorm","College Shortlisting","Financial Aid Matters","General Consulation"].map(function(e){return{key:e,text:e,value:e}}),ze={padding:"20px",margin:"10px"},Ke=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={selectedTopics:[],selectTimes:!1,mentorsByTopic:[]},e.handleChangeTopic=e.handleChangeTopic.bind(Object(m.a)(e)),e.selectTimes=e.selectTimes.bind(Object(m.a)(e)),e.getMentorsByTopic=e.getMentorsByTopic.bind(Object(m.a)(e)),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"selectTimes",value:function(){var e=Object(E.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),e.next=4,this.getMentorsByTopic();case 4:0!==this.state.selectedTopics.length?this.setState({selectTimes:!this.state.selectTimes}):I()({title:"Slow down there!",text:"Please fill in all fields to continue.",icon:"warning"});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleChangeTopic",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({selectedTopics:a})}},{key:"getMentorsByTopic",value:function(){var e=Object(E.a)(v.a.mark(function e(){var t,a,n=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={requestedTopics:this.state.selectedTopics},(a=new Headers).append("Content-Type","application/json"),a.append("Accept","application/json"),e.next=6,fetch("".concat(Nt,"/getMatchingMentorsByTopic"),{method:"post",credentials:"include",headers:a,body:JSON.stringify(t)}).then(function(){var e=Object(E.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,200===t.status?n.setState({mentorsByTopic:a}):console.log("res rejected");case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,this.state.selectTimes?r.a.createElement(Ge,{mentorsByTopic:this.state.mentorsByTopic,topics:this.state.selectedTopics,menteeId:this.props.menteeId,menteeTimeZone:this.props.menteeTimeZone}):r.a.createElement("div",null,r.a.createElement(T.a,{style:ze,attached:!0,centered:!0,header:"Select topics you'd like to speak about.",content:"We will show you times that we can accommodate you for."}),r.a.createElement(h.a,null,r.a.createElement(h.a.Column,{centered:!0},r.a.createElement(h.a.Row,null,r.a.createElement(A.a,null,r.a.createElement(A.a.Field,null,r.a.createElement(L.a,{placeholder:"Preferred Topics",fluid:!0,multiple:!0,selection:!0,options:Ze,onChange:this.handleChangeTopic,name:"preferredTopics"})),r.a.createElement(h.a.Row,null,r.a.createElement(p.a,{onClick:this.selectTimes},"Select preferred times"))))))))}}]),t}(r.a.Component),Xe=a(158),Qe=a.n(Xe),$e=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={topicSelection:"",timeSelection:"",mentee_intro:"",mentor:null,topicOptions:[],timeOptions:[],submitting:!1},a.handleChangeTopic=a.handleChangeTopic.bind(Object(m.a)(a)),a.handleChangeTime=a.handleChangeTime.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a.handleChangeIntro=a.handleChangeIntro.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new Headers;t.append("Content-Type","application/json"),t.append("Accept","application/json"),fetch("".concat(Nt,"/getMentorById"),{method:"post",credentials:"include",headers:t,body:JSON.stringify({id:this.props.mentorId})}).then(function(){var t=Object(E.a)(v.a.mark(function t(a){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a;case 2:return n=t.sent,t.next=5,n.json();case 5:n=t.sent,console.log(n),e.setState({mentor:n});case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).then(function(){e.setState({topicOptions:Qe.a.map(e.state.mentor&&e.state.mentor.preferredTopics,function(e){return{key:e,text:e,value:e}})},function(){var t=e.state.mentor&&e.state.mentor.preferredTimes[0]&&e.state.mentor.preferredTimes[0].map(function(t){return{gmtFreeTime:t,viewTime:Y(t,e.props.menteeTimeZone)}});e.setState({timeOptions:Qe.a.map(t,function(e){return{key:e.viewTime,text:e.viewTime,value:e.gmtFreeTime}})})})})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({submitting:!0},function(){var e={dateTime:t.state.timeSelection,requestorId:t.props.menteeId,topic:t.state.topicSelection,mentorId:t.state.mentor.id,mentee_intro:t.state.mentee_intro},a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/newRequestByMentor"),{method:"post",credentials:"include",headers:a,body:JSON.stringify(e)}).then(function(e){200!==e.status?(I()({title:"Oops!",text:"Something went wrong! Please try again.",icon:"error"}),t.setState({submitting:!1})):t.setState({submitting:!1},function(){I()({title:"You're all set!",text:"You've successfully requested a call! Keep an eye out on your email for updates.",icon:"success"}).then(function(){t.props.goBackToMentorNetwork()})})})})}},{key:"handleChangeTopic",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({topicSelection:a})}},{key:"handleChangeTime",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({timeSelection:a})}},{key:"handleChangeIntro",value:function(e){e.preventDefault();var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"render",value:function(){return r.a.createElement(w.a,null,r.a.createElement(T.a,null,r.a.createElement(T.a.Header,null,"Scheduling form"),r.a.createElement("p",null,"Your call will be scheduled with ".concat(this.state.mentor&&this.state.mentor.name,". Times are displayed in your timezone."))),r.a.createElement(A.a,{onSubmit:this.handleSubmit},r.a.createElement(A.a.Group,{widths:"equal"},r.a.createElement(h.a,{rows:5,style:{width:"100%",margin:"20px"}},r.a.createElement(h.a.Row,null,r.a.createElement(A.a.Field,null,r.a.createElement(L.a,{placeholder:"Topic",fluid:!0,selection:!0,options:this.state.topicOptions,onChange:this.handleChangeTopic,name:"preferredTopics"}))),r.a.createElement(h.a.Row,null,r.a.createElement(A.a.Field,null,r.a.createElement(L.a,{placeholder:"Times",fluid:!0,selection:!0,options:this.state.timeOptions,onChange:this.handleChangeTime,name:"preferredTopics"}))),r.a.createElement(h.a.Row,null,r.a.createElement(A.a.Field,null,r.a.createElement("label",null,"Briefly tell us what you want to speak about."),r.a.createElement("input",{placeholder:"Your intro for the call...",name:"mentee_intro",maxLength:"500",onChange:this.handleChangeIntro}))),r.a.createElement(h.a.Row,null,r.a.createElement(p.a,{disabled:!this.state.timeSelection||!this.state.topicSelection,type:"submit"},"Submit"))))))}}]),t}(n.Component),et="My Profile",tt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleItemClick=function(e,t){var n=t.name;return a.setState({activeItem:n})},a.state={activeItem:et,data:{},schedule:null,mentorPicked:!1,mentorId:"",mentorPickedForView:null},a.handleNewSchedule=a.handleNewSchedule.bind(Object(m.a)(a)),a.handleNewScheduleWithMentor=a.handleNewScheduleWithMentor.bind(Object(m.a)(a)),a.componentCleanup=a.componentCleanup.bind(Object(m.a)(a)),a.viewMentorProfile=a.viewMentorProfile.bind(Object(m.a)(a)),a.goBackToMentorNetwork=a.goBackToMentorNetwork.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentCleanup",value:function(){sessionStorage.setItem("NavBarMentee_LS",JSON.stringify(this.state))}},{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.componentCleanup);var e=sessionStorage.getItem("NavBarMentee_LS");if(e)try{this.setState(JSON.parse(e))}catch(t){console.log("Could not get fetch state from local storage for","NavBarMentee_LS")}this.setState({data:this.props.payload.mentee})}},{key:"componentWillUnmount",value:function(){this.componentCleanup(),window.removeEventListener("beforeunload",this.componentCleanup)}},{key:"handleNewSchedule",value:function(e){e.preventDefault(),this.setState({activeItem:"New Call",mentorPicked:!1,mentorId:""})}},{key:"goBackToMentorNetwork",value:function(){this.setState({activeItem:"Mentor Network"})}},{key:"handleNewScheduleWithMentor",value:function(e){this.setState({activeItem:"New Call",mentorPicked:!0,mentorId:e})}},{key:"viewMentorProfile",value:function(e){this.setState({activeItem:"Mentor Profile",mentorFetchedForView:e})}},{key:"renderNavSelection",value:function(){var e=this.state.data.schoolCustom?this.state.data.schoolCustom:this.state.data.school?this.state.data.school.name:"None listed.";switch(this.state.activeItem){case et:return r.a.createElement(ye,{trackingId:this.state.data.tracking&&this.state.data.tracking.id,id:this.state.data.id,email:this.state.data.email,image:this.state.data.image,name:this.state.data.name,school:e,memberSince:this.state.data.memberSince,aboutYourself:this.state.data.aboutYourself,location:this.state.data.location,isMentor:!1});case"Mentor Network":return r.a.createElement(He,{pickMentor:this.handleNewScheduleWithMentor,viewMentorProfile:this.viewMentorProfile});case"Schedulings":return r.a.createElement(Ue,{getForm:this.handleNewSchedule,menteeId:this.state.data.id,menteeEmail:this.state.data.email,menteeName:this.state.data.name});case"New Call":return this.state.mentorPicked?r.a.createElement($e,{mentorId:this.state.mentorId,menteeId:this.state.data.id,menteeTimeZone:this.state.data.timeZone,goBackToMentorNetwork:this.goBackToMentorNetwork}):r.a.createElement(Ke,{menteeId:this.state.data.id,menteeTimeZone:this.state.data.timeZone});case"Mentor Profile":return r.a.createElement(ye,{id:this.state.mentorFetchedForView.id,image:this.state.mentorFetchedForView.image,name:this.state.mentorFetchedForView.name,school:this.state.mentorFetchedForView.school,memberSince:this.state.mentorFetchedForView.memberSince,aboutYourself:this.state.mentorFetchedForView.aboutYourself,position:this.state.mentorFetchedForView.position,major:this.state.mentorFetchedForView.major,location:this.state.mentorFetchedForView.location,timeZone:this.state.mentorFetchedForView.timeZone,languages:this.state.mentorFetchedForView.languages,viewMode:!0,isMentor:!0,goBackToMentorNetwork:this.goBackToMentorNetwork});default:return null}}},{key:"render",value:function(){var e=this.state.activeItem;return r.a.createElement("div",null,r.a.createElement(b.a,{pointing:!0},r.a.createElement(b.a.Item,{name:et,active:e===et,onClick:this.handleItemClick}),r.a.createElement(b.a.Item,{name:"Mentor Network",active:"Mentor Network"===e,onClick:this.handleItemClick}),r.a.createElement(b.a.Item,{name:"Schedulings",active:"Schedulings"===e,onClick:this.handleItemClick})),r.a.createElement(y.a,null,this.renderNavSelection()))}}]),t}(n.Component),at=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={email:a.props.email,name:a.props.name,modalOpen:!1,message:"",suspensionStatus:a.props.suspensionStatus},a.changeSuspensionMentee=a.changeSuspensionMentee.bind(Object(m.a)(a)),a.pingMentee=a.pingMentee.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){e.preventDefault();var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"pingMentee",value:function(e){var t=this;e.preventDefault(),this.setState({modalOpen:!1});var a={email:this.state.email,message:this.state.message},n=new Headers;n.append("Content-Type","application/json"),n.append("Accept","application/json"),fetch("".concat(Nt,"/pingParticipant"),{method:"post",headers:n,credentials:"include",body:JSON.stringify(a)}).then(function(){var e=Object(E.a)(v.a.mark(function e(a){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:200!==e.sent.status?I()({title:"Oops!",text:"Something went wrong... Please try again.",icon:"error"}):I()({title:"Message Sent!",text:"You just pinged ".concat(t.state.name,"."),icon:"success"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){window.alert("Something went wrong, the server's funky!")})}},{key:"changeSuspensionMentee",value:function(e){var t=this,a=!this.state.suspensionStatus,n={menteeEmail:this.state.email,newSuspensionStatus:a};e.preventDefault();var r=new Headers;r.append("Content-Type","application/json"),r.append("Accept","application/json"),fetch("".concat(Nt,"/changeMenteeSuspension"),{method:"post",headers:r,credentials:"include",body:JSON.stringify(n)}).then(function(){var e=Object(E.a)(v.a.mark(function e(n){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:200!==e.sent.status?I()({title:"Oops!",text:"Something went wrong... Please try again.",icon:"error"}).then(function(){}):t.setState({suspensionStatus:a},function(){I()({title:"Suspension status changed!",text:"You have changed suspension status of ".concat(t.state.name,"."),icon:"success"})});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){window.alert("Something went wrong, the server's funky!")})}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.school,o=t.memberSince,s=t.location,l=t.callsRequested;return r.a.createElement(O.a,{centered:!0,style:ke},r.a.createElement(h.a,{columns:2},r.a.createElement(h.a.Column,{width:11},r.a.createElement(h.a.Row,{style:Se},r.a.createElement(T.a,{style:Oe},r.a.createElement("strong",null,a)," has been a member since ",o,", attends ",r.a.createElement("strong",null,n),", and is from ",r.a.createElement("strong",null,s),".")),r.a.createElement(h.a.Row,{style:Se},r.a.createElement(T.a,{style:we},"Calls Requested: ",l))),r.a.createElement(h.a.Column,{width:5},r.a.createElement(pe.a,{open:this.state.modalOpen,trigger:r.a.createElement(p.a,{style:xe,onClick:function(){e.setState({modalOpen:!0})}},"Ping Mentee")},r.a.createElement(pe.a.Header,null,"Ping ",a),r.a.createElement(pe.a.Content,null,r.a.createElement(A.a,{onSubmit:this.pingMentee},r.a.createElement(A.a.Field,{type:"text"},r.a.createElement("label",null,"Message"),r.a.createElement("input",{placeholder:"Your message...",name:"message",onChange:this.handleChange,value:this.state.message})),r.a.createElement(p.a,{color:"blue",type:"submit",disabled:!this.state.message},"Send"))),r.a.createElement(pe.a.Actions,null,r.a.createElement(p.a,{onClick:function(){e.setState({modalOpen:!1})}},"Done"))),r.a.createElement(p.a,{style:xe,onClick:this.changeSuspensionMentee},this.state.suspensionStatus?"Unsuspend":"Suspend"),r.a.createElement(h.a.Row,null,r.a.createElement(Ne,{menteeId:this.props.menteeId})))))}}]),t}(r.a.Component),nt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={mentees:[],searchMode:!1,searchTerms:""},a.updateSearchTerms=a.updateSearchTerms.bind(Object(m.a)(a)),a.componentCleanup=a.componentCleanup.bind(Object(m.a)(a)),a.clearSearch=a.clearSearch.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentCleanup",value:function(){sessionStorage.setItem("Mentees_LS",JSON.stringify(this.state))}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("beforeunload",this.componentCleanup);var t=sessionStorage.getItem("Mentees_LS");if(t)try{this.setState(JSON.parse(t))}catch(n){console.log("Could not get fetch state from local storage for","Mentees_LS")}var a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/getAllMenteesByAdmin"),{method:"get",credentials:"include",headers:a}).then(function(){var t=Object(E.a)(v.a.mark(function t(a){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a;case 2:return n=t.sent,t.next=5,n.json();case 5:n=t.sent,e.setState({mentees:n&&n.mentees});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.componentCleanup(),window.removeEventListener("beforeunload",this.componentCleanup)}},{key:"updateSearchTerms",value:function(e,t){var a=t.value;e.preventDefault(),a?this.setState({searchTerms:a,searchMode:!0}):this.setState({searchMode:!1,searchTerms:a})}},{key:"getBagofWords",value:function(e){return[e.name||"",e.school||"",e.location||""]}},{key:"clearSearch",value:function(e){e.preventDefault(),this.setState({searchMode:!1,searchTerms:""})}},{key:"filterResults",value:function(e){var t=this;return e.filter(function(e){for(var a=t.getBagofWords(e),n=t.state.searchTerms,r=0;r<a.length;r++)if(a[r].toLowerCase().includes(n.toLowerCase()))return!0})}},{key:"renderUserCards",value:function(e){return e.map(function(e){var t=e.schoolCustom?e.schoolCustom:e.school?e.school.name:"None listed";return r.a.createElement(at,{email:e.email,name:e.name,school:t,memberSince:e.memberSince,location:e.location,callsRequested:e.callsRequested,suspensionStatus:e.suspended,menteeId:e.id})})}},{key:"render",value:function(){return r.a.createElement(w.a,null,r.a.createElement(h.a,{columns:1},r.a.createElement(h.a.Column,{width:10},"There as ",this.state.mentees.length," Mentees currently in network."),r.a.createElement(h.a.Column,{width:6},r.a.createElement(h.a.Row,null,r.a.createElement(_e,{onSearchMode:this.updateSearchTerms,searchValue:this.state.searchTerms})),r.a.createElement(S.a,null),r.a.createElement(h.a.Row,null,r.a.createElement(p.a,{onClick:this.clearSearch},"Clear Search")))),r.a.createElement(w.a,null,this.state.searchMode?this.renderUserCards(this.filterResults(this.state.mentees)):this.renderUserCards(this.state.mentees)))}}]),t}(r.a.Component),rt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={requestId:a.props.requestId,modalOpen:!1,message:""},a.pingParticipants=a.pingParticipants.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){e.preventDefault();var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"pingParticipants",value:function(e){e.preventDefault(),this.setState({modalOpen:!1});var t={requestId:this.state.requestId,message:this.state.message},a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/pingParticipants"),{method:"post",headers:a,credentials:"include",body:JSON.stringify(t)}).then(function(){var e=Object(E.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:200!==e.sent.status?I()({title:"Oops!",text:"Something went wrong... Please try again.",icon:"error"}):I()({title:"Message Sent!",text:"You just pinged participants for this request.",icon:"success"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){window.alert("Something went wrong, the server's funky!")})}},{key:"render",value:function(){var e=this,t=this.props,a=t.menteeNameSchool,n=t.mentorNameCollege,o=t.topic,s=t.status,l=t.feedback,i=t.menteeIntro;return r.a.createElement(O.a,{centered:!0,style:ke},r.a.createElement(h.a,{columns:2},r.a.createElement(h.a.Column,{width:11},r.a.createElement(h.a.Row,{style:Se},r.a.createElement(T.a,{style:we},r.a.createElement("strong",null,n)," mentoring ",r.a.createElement("strong",null,a)," about ",r.a.createElement("strong",null,o))),r.a.createElement(h.a.Row,{style:Se},r.a.createElement(T.a,{style:Oe},"Status: ",r.a.createElement("strong",null,s))),r.a.createElement(h.a.Row,{style:Se},l?r.a.createElement("div",null,r.a.createElement(T.a.Header,null,r.a.createElement("strong",null,"Feedback")),r.a.createElement(T.a,{style:we},'" ',l,' "')):null),r.a.createElement(h.a.Row,{style:Se},r.a.createElement("div",null,r.a.createElement(T.a.Header,null,r.a.createElement("strong",null,"Mentee's Introduction")),r.a.createElement(T.a,{style:Oe},i)))),r.a.createElement(h.a.Column,{width:5},r.a.createElement(pe.a,{open:this.state.modalOpen,trigger:r.a.createElement(p.a,{onClick:function(){e.setState({modalOpen:!0})}},"Ping Participants")},r.a.createElement(pe.a.Header,null,"Ping participants"),r.a.createElement(pe.a.Content,null,r.a.createElement(A.a,{onSubmit:this.pingParticipants},r.a.createElement(A.a.Field,{type:"text"},r.a.createElement("label",null,"Message"),r.a.createElement("input",{placeholder:"Your message...",name:"message",onChange:this.handleChange,value:this.state.message})),r.a.createElement(p.a,{color:"blue",type:"submit",disabled:!this.state.message},"Send"))),r.a.createElement(pe.a.Actions,null,r.a.createElement(p.a,{onClick:function(){e.setState({modalOpen:!1})}},"Done"))))))}}]),t}(r.a.Component),ot=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={requests:[]},a.componentCleanup=a.componentCleanup.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentCleanup",value:function(){sessionStorage.setItem("Requests_LS",JSON.stringify(this.state))}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("beforeunload",this.componentCleanup);var t=sessionStorage.getItem("Requests_LS");if(t)try{this.setState(JSON.parse(t))}catch(n){console.log("Could not get fetch state from local storage for","Requests_LS")}var a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/getAllRequestsByAdmin"),{method:"get",credentials:"include",headers:a}).then(function(){var t=Object(E.a)(v.a.mark(function t(a){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a;case 2:return n=t.sent,t.next=5,n.json();case 5:n=t.sent,e.setState({requests:n&&n.requests});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.componentCleanup(),window.removeEventListener("beforeunload",this.componentCleanup)}},{key:"renderRequestCards",value:function(e){return e.map(function(e){return r.a.createElement(rt,{requestId:e.id,menteeNameSchool:e.menteeNameSchool,mentorNameCollege:e.mentorNameCollege,topic:e.topic,status:e.status,feedback:e.feedback,menteeIntro:e.menteeIntro})})}},{key:"render",value:function(){return r.a.createElement(w.a,null,r.a.createElement(h.a,null,r.a.createElement(h.a.Column,{width:10},"There as ",this.state.requests.length," Requests logged on the platform.")),r.a.createElement(w.a,null,this.renderRequestCards(this.state.requests)))}}]),t}(r.a.Component),st=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={requestId:a.props.requestId,modalOpen:!1,mentorPairId:null,mentors:[]},a.handleMentorPick=a.handleMentorPick.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.topic){var t=new Headers,a={topic:this.props.topic};t.append("Content-Type","application/json"),t.append("Accept","application/json"),fetch("".concat(Nt,"/getMentorsByTopic"),{method:"post",credentials:"include",headers:t,body:JSON.stringify(a)}).then(function(){var t=Object(E.a)(v.a.mark(function t(a){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a;case 2:return n=t.sent,t.next=5,n.json();case 5:n=t.sent,e.setState({mentors:n&&n.mentors});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}}},{key:"handleMentorPick",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({mentorPairId:a})}},{key:"pairCall",value:function(){var e=this;this.setState({modalOpen:!1});var t={mentorId:this.state.mentorPairId,menteeId:this.props.menteeId,topic:this.props.topic,schoolName:this.props.schoolName,requestId:this.props.requestId},a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/newAdminRequest"),{method:"post",headers:a,credentials:"include",body:JSON.stringify(t)}).then(function(){var t=Object(E.a)(v.a.mark(function t(a){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a;case 2:200!==t.sent.status?I()({title:"Oops!",text:"Something went wrong... Please try again.",icon:"error"}):I()({title:"Pair request sent!",text:"You just requested a call with mentor on behalf of ".concat(e.props.schoolName,"."),icon:"success"});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){window.alert("Something went wrong, the server's funky!")})}},{key:"render",value:function(){var e=this,t=this.props,a=t.schoolName,n=t.topic,o=t.paired,s=t.menteeName,l=t.mentorName,i=this.state.mentors&&this.state.mentors.map(function(e){return{text:"".concat(e.name," (").concat(e.college,")"),key:e.id,value:e.id}});return r.a.createElement(O.a,{centered:!0,style:o?Oe:we},r.a.createElement(h.a,{columns:2},r.a.createElement(h.a.Column,{width:11},l?r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,s,"(",a,")")," set for a call with ",r.a.createElement("strong",null,l)," about ",r.a.createElement("strong",null,n),"."):r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,a)," has requested a call for ",r.a.createElement("strong",null,s)," about ",r.a.createElement("strong",null,n),".")),r.a.createElement(h.a.Column,{width:5},o?null:r.a.createElement(pe.a,{open:this.state.modalOpen,trigger:r.a.createElement(p.a,{onClick:function(){e.setState({modalOpen:!0})}},"Find Mentor to pair")},r.a.createElement(pe.a.Header,null,"Pair Mentor"),r.a.createElement(pe.a.Content,null,r.a.createElement(A.a,{onSubmit:this.pairCall},r.a.createElement("label",null,"Select a mentor for ",s,"(",a,") to consult ",n),r.a.createElement(he.a,{compact:!0,options:i,defaultValue:null,name:"mentorPairId",onChange:this.handleMentorPick}),r.a.createElement(p.a,{color:"blue",type:"submit",disabled:!this.state.mentorPairId},"Pair!"))),r.a.createElement(pe.a.Actions,null,r.a.createElement(p.a,{onClick:function(){e.setState({modalOpen:!1})}},"Done"))))))}}]),t}(r.a.Component),lt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={moderatorRequests:[]},a.componentCleanup=a.componentCleanup.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentCleanup",value:function(){sessionStorage.setItem("SchoolRequests_LS",JSON.stringify(this.state))}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("beforeunload",this.componentCleanup);var t=sessionStorage.getItem("SchoolRequests_LS");if(t)try{this.setState(JSON.parse(t))}catch(n){console.log("Could not get fetch state from local storage for","SchoolRequests_LS")}var a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/getSchoolGeneratedRequests"),{method:"get",credentials:"include",headers:a}).then(function(){var t=Object(E.a)(v.a.mark(function t(a){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a;case 2:return n=t.sent,t.next=5,n.json();case 5:n=t.sent,e.setState({moderatorRequests:n&&n.moderatorRequests});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.componentCleanup(),window.removeEventListener("beforeunload",this.componentCleanup)}},{key:"renderRequestCards",value:function(e){return e?e.map(function(e){return r.a.createElement(st,{requestId:e.id,schoolName:e.school.name,menteeId:e.mentee.id,menteeName:e.mentee.name,paired:e.paired,topic:e.topic,mentorName:e.mentor&&e.mentor.name})}):null}},{key:"render",value:function(){return r.a.createElement(w.a,null,r.a.createElement(h.a,null,r.a.createElement(h.a.Column,{width:10},"There as ",this.state.requests.length," Requests logged on the platform.")),r.a.createElement(w.a,null,this.renderRequestCards(this.state.moderatorRequests)))}}]),t}(r.a.Component),it=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={email:a.props.email,name:a.props.name,modalOpen:!1,message:""},a.approveMentor=a.approveMentor.bind(Object(m.a)(a)),a.pingMentor=a.pingMentor.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){e.preventDefault();var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"pingMentor",value:function(e){var t=this;e.preventDefault(),this.setState({modalOpen:!1});var a={email:this.state.email,message:this.state.message},n=new Headers;n.append("Content-Type","application/json"),n.append("Accept","application/json"),fetch("".concat(Nt,"/pingParticipant"),{method:"post",headers:n,credentials:"include",body:JSON.stringify(a)}).then(function(){var e=Object(E.a)(v.a.mark(function e(a){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:200!==e.sent.status?I()({title:"Oops!",text:"Something went wrong... Please try again.",icon:"error"}):I()({title:"Message Sent!",text:"You just pinged ".concat(t.state.name,"."),icon:"success"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){window.alert("Something went wrong, the server's funky!")})}},{key:"approveMentor",value:function(e){var t=this,a={mentorEmail:this.state.email};e.preventDefault();var n=new Headers;n.append("Content-Type","application/json"),n.append("Accept","application/json"),fetch("".concat(Nt,"/approveMentor"),{method:"post",headers:n,credentials:"include",body:JSON.stringify(a)}).then(function(){var e=Object(E.a)(v.a.mark(function e(a){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:200!==e.sent.status?I()({title:"Oops!",text:"Something went wrong... Please try again.",icon:"error"}):I()({title:"Mentor approved!",text:"You have approved ".concat(t.state.name,"."),icon:"success"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){window.alert("Something went wrong, the server's funky!")})}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.college,o=t.location,s=t.memberSince,l=t.callsCompleted,i=t.approved;return r.a.createElement(O.a,{centered:!0,style:ke},r.a.createElement(h.a,{columns:2},r.a.createElement(h.a.Column,{width:11},r.a.createElement(h.a.Row,{style:Se},r.a.createElement(T.a,{style:Oe},r.a.createElement("strong",null,a)," has been a member since ",s,", attends ",r.a.createElement("strong",null,n),", and is currently in ",r.a.createElement("strong",null,o),".")),r.a.createElement(h.a.Row,{style:Se},"Calls Completed: ",l)),r.a.createElement(h.a.Column,{width:5},i?r.a.createElement(pe.a,{open:this.state.modalOpen,trigger:r.a.createElement(p.a,{onClick:function(){e.setState({modalOpen:!0})}},"Ping Mentor")},r.a.createElement(pe.a.Header,null,"Ping ",a),r.a.createElement(pe.a.Content,null,r.a.createElement(A.a,{onSubmit:this.pingMentor},r.a.createElement(A.a.Field,{type:"text"},r.a.createElement("label",null,"Message"),r.a.createElement("input",{placeholder:"Your message...",name:"message",onChange:this.handleChange,value:this.state.message})),r.a.createElement(p.a,{color:"blue",type:"submit",disabled:!this.state.message},"Send"))),r.a.createElement(pe.a.Actions,null,r.a.createElement(p.a,{onClick:function(){e.setState({modalOpen:!1})}},"Done"))):r.a.createElement(p.a,{onClick:this.approveMentor},"Approve"))))}}]),t}(r.a.Component),ct=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={mentors:[],searchMode:!1,searchTerms:""},a.updateSearchTerms=a.updateSearchTerms.bind(Object(m.a)(a)),a.componentCleanup=a.componentCleanup.bind(Object(m.a)(a)),a.clearSearch=a.clearSearch.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentCleanup",value:function(){sessionStorage.setItem("Mentors_LS",JSON.stringify(this.state))}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("beforeunload",this.componentCleanup);var t=sessionStorage.getItem("Mentors_LS");if(t)try{this.setState(JSON.parse(t))}catch(n){console.log("Could not get fetch state from local storage for","Mentors_LS")}var a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/getAllMentorsByAdmin"),{method:"get",credentials:"include",headers:a}).then(function(){var t=Object(E.a)(v.a.mark(function t(a){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a;case 2:return n=t.sent,t.next=5,n.json();case 5:n=t.sent,e.setState({mentors:n&&n.mentors});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.componentCleanup(),window.removeEventListener("beforeunload",this.componentCleanup)}},{key:"updateSearchTerms",value:function(e,t){var a=t.value;e.preventDefault(),a?this.setState({searchTerms:a,searchMode:!0}):this.setState({searchMode:!1,searchTerms:a})}},{key:"getBagofWords",value:function(e){return[e.name||"",e.college||"",e.location||""]}},{key:"clearSearch",value:function(e){e.preventDefault(),this.setState({searchMode:!1,searchTerms:"",searchTopic:""})}},{key:"filterResults",value:function(e){var t=this;return e.filter(function(e){for(var a=t.getBagofWords(e),n=t.state.searchTerms,r=0;r<a.length;r++)if(a[r].toLowerCase().includes(n.toLowerCase()))return!0})}},{key:"renderUserCards",value:function(e){return e.map(function(e){return r.a.createElement(it,{name:e.name,college:e.college,location:e.location,memberSince:e.memberSince,callsCompleted:e.callsCompleted,approved:e.approved,email:e.email})})}},{key:"render",value:function(){return r.a.createElement(w.a,null,r.a.createElement(h.a,{columns:1},r.a.createElement(h.a.Column,{width:10},"There as ",this.state.mentors.length," Mentors currently in network."),r.a.createElement(h.a.Column,{width:6},r.a.createElement(h.a.Row,null,r.a.createElement(_e,{onSearchMode:this.updateSearchTerms,searchValue:this.state.searchTerms})),r.a.createElement(S.a,null),r.a.createElement(h.a.Row,null,r.a.createElement(p.a,{onClick:this.clearSearch},"Clear Search")))),r.a.createElement(w.a,null,this.state.searchMode?this.renderUserCards(this.filterResults(this.state.mentors)):this.renderUserCards(this.state.mentors)))}}]),t}(r.a.Component),ut=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={schools:[],schoolName:"",schoolRegion:"",schoolContact:"",name:"",passwordTemp:"",modalOpen:!1},a.renderUserCards=a.renderUserCards.bind(Object(m.a)(a)),a.addNewSchool=a.addNewSchool.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){e.preventDefault();var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"addNewSchool",value:function(e){e.preventDefault(),e.preventDefault(),this.setState({modalOpen:!1});var t={schoolName:this.state.schoolName,schoolContact:this.state.schoolContact,schoolRegion:this.state.schoolRegion,adminName:this.state.name,passwordTemp:this.state.passwordTemp},a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/addSchool"),{method:"post",headers:a,credentials:"include",body:JSON.stringify(t)}).then(function(){var e=Object(E.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:200!==e.sent.status?I()({title:"Oops!",text:"Something went wrong... Please try again.",icon:"error"}):I()({title:"Added new school!",text:"Added new school for mentees to associate with",icon:"success"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){window.alert("Something went wrong, the server's funky!")})}},{key:"componentCleanup",value:function(){sessionStorage.setItem("Dashboard_LS",JSON.stringify(this.state))}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("beforeunload",this.componentCleanup);var t=sessionStorage.getItem("Dashboard_LS");if(t)try{this.setState(JSON.parse(t))}catch(n){console.log("Could not get fetch state from local storage for","Dashboard_LS")}var a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/getSchools"),{method:"get",credentials:"include",headers:a}).then(function(){var t=Object(E.a)(v.a.mark(function t(a){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a;case 2:return n=t.sent,t.next=5,n.json();case 5:n=t.sent,e.setState({schools:n&&n.schools});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.componentCleanup(),window.removeEventListener("beforeunload",this.componentCleanup)}},{key:"renderUserCards",value:function(e){return e?e.map(function(e){return r.a.createElement(O.a,{style:ke},r.a.createElement(O.a.Header,null,r.a.createElement("strong",null,e.name)),r.a.createElement(O.a.Meta,null,e.region),r.a.createElement(O.a.Meta,null,"Contact: ",e.contactEmail))}):null}},{key:"render",value:function(){var e=this;return r.a.createElement(w.a,null,r.a.createElement(y.a,null,r.a.createElement("label",null,"Schools currently in system:"),this.renderUserCards(this.state.schools)),r.a.createElement(pe.a,{open:this.state.modalOpen,trigger:r.a.createElement(p.a,{onClick:function(){e.setState({modalOpen:!0})}},"Add School")},r.a.createElement(pe.a.Header,null,"Add New School"),r.a.createElement(pe.a.Content,null,r.a.createElement(A.a,{onSubmit:this.addNewSchool},r.a.createElement(A.a.Field,{type:"text"},r.a.createElement("label",null,"School Name"),r.a.createElement("input",{placeholder:"School name",name:"schoolName",onChange:this.handleChange,value:this.state.schoolName})),r.a.createElement(A.a.Field,{type:"text"},r.a.createElement("label",null,"School Region"),r.a.createElement("input",{placeholder:"School region",name:"schoolRegion",onChange:this.handleChange,value:this.state.schoolRegion})),r.a.createElement(A.a.Field,{type:"text"},r.a.createElement("label",null,"School Moderator's Email"),r.a.createElement("input",{placeholder:"Email",name:"schoolContact",onChange:this.handleChange,value:this.state.schoolContact})),r.a.createElement(A.a.Field,{type:"text"},r.a.createElement("label",null,"School Moderator's Temporary Password"),r.a.createElement("input",{placeholder:"This password is what they will receive in email to use for their first login...",name:"passwordTemp",onChange:this.handleChange,value:this.state.passwordTemp})),r.a.createElement(A.a.Field,{type:"text"},r.a.createElement("label",null,"School Moderator's Name"),r.a.createElement("input",{placeholder:"Name",name:"name",onChange:this.handleChange,value:this.state.name})),r.a.createElement(p.a,{color:"blue",type:"submit",disabled:!this.state.schoolName||!this.state.schoolRegion||!this.state.schoolContact||!this.state.name||!this.state.passwordTemp},"Add"))),r.a.createElement(pe.a.Actions,null,r.a.createElement(p.a,{onClick:function(){e.setState({modalOpen:!1})}},"Done"))))}}]),t}(r.a.Component),mt="Requests",dt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleItemClick=function(e,t){var n=t.name;return a.setState({activeItem:n})},a.state={activeItem:mt,data:{}},a.componentCleanup=a.componentCleanup.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentCleanup",value:function(){sessionStorage.setItem("NavBarAdmin_LS",JSON.stringify(this.state))}},{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.componentCleanup);var e=sessionStorage.getItem("NavBarAdmin_LS");if(e)try{this.setState(JSON.parse(e))}catch(t){console.log("Could not get fetch state from local storage for","NavBarAdmin_LS")}this.setState({data:this.props.payload.mentee})}},{key:"componentWillUnmount",value:function(){this.componentCleanup(),window.removeEventListener("beforeunload",this.componentCleanup)}},{key:"renderNavSelection",value:function(){switch(this.state.activeItem){case mt:return r.a.createElement(ot,null);case"Mentors":return r.a.createElement(ct,null);case"Mentees":return r.a.createElement(nt,null);case"Dashboard":return r.a.createElement(ut,null);case"Dashboard":return r.a.createElement(lt,null);default:return null}}},{key:"render",value:function(){var e=this.state.activeItem;return r.a.createElement("div",null,r.a.createElement(b.a,{pointing:!0},r.a.createElement(b.a.Item,{name:mt,active:e===mt,onClick:this.handleItemClick}),r.a.createElement(b.a.Item,{name:"Mentors",active:"Mentors"===e,onClick:this.handleItemClick}),r.a.createElement(b.a.Item,{name:"Mentees",active:"Mentees"===e,onClick:this.handleItemClick}),r.a.createElement(b.a.Item,{name:"Dashboard",active:"Dashboard"===e,onClick:this.handleItemClick}),r.a.createElement(b.a.Item,{name:"School Requests",active:"School Requests"===e,onClick:this.handleItemClick})),r.a.createElement(y.a,null,this.renderNavSelection()))}}]),t}(n.Component),ht=a(461),pt=["ECA Development","Essay Critique","Essay Brainstorm","College Shortlisting","Financial Aid Matters","General Consulation"].map(function(e){return{key:e,text:e,value:e}}),gt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={students:[],message:"",modalMessageOpen:!1,modalRequestOpen:!1,topicSelectedForMentorship:"",grade:""},a.pingStudent=a.pingStudent.bind(Object(m.a)(a)),a.requestMentorship=a.requestMentorship.bind(Object(m.a)(a)),a.filterByGrade=a.filterByGrade.bind(Object(m.a)(a)),a.handleTopicSelection=a.handleTopicSelection.bind(Object(m.a)(a)),a.handleChangeGrade=a.handleChangeGrade.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentCleanup",value:function(){sessionStorage.setItem("Students_LS",JSON.stringify(this.state))}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("beforeunload",this.componentCleanup);var t=sessionStorage.getItem("Students_LS");if(t)try{this.setState(JSON.parse(t))}catch(r){console.log("Could not get fetch state from local storage for","Students_LS")}var a={schoolId:this.props.schoolId},n=new Headers;n.append("Content-Type","application/json"),n.append("Accept","application/json"),fetch("".concat(Nt,"/getAllStudentsBySchool"),{method:"post",credentials:"include",headers:n,body:JSON.stringify(a)}).then(function(){var t=Object(E.a)(v.a.mark(function t(a){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a;case 2:return n=t.sent,t.next=5,n.json();case 5:n=t.sent,e.setState({students:n&&n.students});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"handleTopicSelection",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({topicSelectedForMentorship:a})}},{key:"handleChangeGrade",value:function(e,t){var a=t.value;e.preventDefault(),this.setState({grade:a})}},{key:"pingStudent",value:function(e,t){this.setState({modalOpen:!1});var a={email:e,message:this.state.message},n=new Headers;n.append("Content-Type","application/json"),n.append("Accept","application/json"),fetch("".concat(Nt,"/pingParticipant"),{method:"post",headers:n,credentials:"include",body:JSON.stringify(a)}).then(function(){var e=Object(E.a)(v.a.mark(function e(a){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:200!==e.sent.status?I()({title:"Oops!",text:"Something went wrong... Please try again.",icon:"error"}):I()({title:"Message Sent!",text:"You just pinged ".concat(t,"."),icon:"success"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){window.alert("Something went wrong, the server's funky!")})}},{key:"componentWillUnmount",value:function(){this.componentCleanup(),window.removeEventListener("beforeunload",this.componentCleanup)}},{key:"requestMentorship",value:function(e){var t={studentId:e,topic:this.state.topicSelectedForMentorship,schoolId:this.props.schoolId},a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/makeSchoolRequest"),{method:"post",headers:a,credentials:"include",body:JSON.stringify(t)}).then(function(){var e=Object(E.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:200!==e.sent.status?I()({title:"Oops!",text:"Something went wrong... Please try again.",icon:"error"}):I()({title:"Request Sent!",text:"One of the moderators will pair up the student with one of our mentors soon!.",icon:"success"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){window.alert("Something went wrong, the server's funky!")})}},{key:"renderTableRows",value:function(e){var t=this;return e.length?e.map(function(e){return r.a.createElement(ht.a.Row,null,r.a.createElement(ht.a.Cell,null,e.name),r.a.createElement(ht.a.Cell,null,e.testsTaken),r.a.createElement(ht.a.Cell,null,e.numCollegesInShortlist),r.a.createElement(ht.a.Cell,null,e.hasEca),r.a.createElement(ht.a.Cell,null,e.callRecords),r.a.createElement(ht.a.Cell,null,r.a.createElement(pe.a,{open:t.state.modalMessageOpen,trigger:r.a.createElement(p.a,{style:xe,onClick:function(){t.setState({modalMessageOpen:!0})}},"Ping Student")},r.a.createElement(pe.a.Header,null,"Ping ",e.name),r.a.createElement(pe.a.Content,null,r.a.createElement(A.a,{onSubmit:t.pingStudent(e.email)},r.a.createElement(A.a.Field,{type:"text"},r.a.createElement("label",null,"Message"),r.a.createElement("input",{placeholder:"Your message...",name:"message",onChange:t.handleChange,value:t.state.message})),r.a.createElement(p.a,{color:"blue",type:"submit",disabled:!t.state.message},"Send"))),r.a.createElement(pe.a.Actions,null,r.a.createElement(p.a,{onClick:function(){t.setState({modalMessageOpen:!1})}},"Done"))),r.a.createElement(pe.a,{open:t.state.modalRequestOpen,trigger:r.a.createElement(p.a,{style:xe,onClick:function(){t.setState({modalRequestOpen:!0})}},"Request Mentorship")},r.a.createElement(pe.a.Header,null,"Requesting mentorship for ",e.name),r.a.createElement(pe.a.Content,null,r.a.createElement(A.a,{onSubmit:t.requestMentorship(e.email)},r.a.createElement(L.a,{placeholder:"Select a topic for consultation",fluid:!0,selection:!0,options:pt,onChange:t.handleTopicSelection,name:"topicSelectedForMentorship"}),r.a.createElement(p.a,{color:"blue",type:"submit",disabled:!t.state.topicSelectedForMentorship},"Request"))),r.a.createElement(pe.a.Actions,null,r.a.createElement(p.a,{onClick:function(){t.setState({modalRequestOpen:!1})}},"Done"))),r.a.createElement(Ne,{menteeId:e.id})))}):null}},{key:"filterByGrade",value:function(e){var t=this;return this.state.grade?e.map(function(e){return e.grade===t.state.grade}):e}},{key:"render",value:function(){return r.a.createElement(w.a,null,r.a.createElement(he.a,{compact:!0,options:["8th","9th","11th","12th"].map(function(e){return{key:e,value:e,text:e}}),defaultValue:null,name:"grade",onChange:this.handleChangeGrade}),r.a.createElement(ht.a,{celled:!0,padded:!0},r.a.createElement(ht.a.Header,null,r.a.createElement(ht.a.Row,null,r.a.createElement(ht.a.HeaderCell,{singleLine:!0},"Name"),r.a.createElement(ht.a.HeaderCell,{singleLine:!0},"Tests Taken"),r.a.createElement(ht.a.HeaderCell,{singleLine:!0},"# College in Shortlist"),r.a.createElement(ht.a.HeaderCell,{singleLine:!0},"Has added ECA"),r.a.createElement(ht.a.HeaderCell,{singleLine:!0},"Calls Completed/Requested"),r.a.createElement(ht.a.HeaderCell,{singleLine:!0},"Actions"))),r.a.createElement(ht.a.Body,null,this.renderTableRows(this.filterByGrade(this.state.students)))))}}]),t}(r.a.Component),ft=function(e){function t(e){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.topic,a=e.menteeName,n=e.schoolName,o=e.mentorName,s=e.paired;return r.a.createElement(O.a,{centered:!0,style:s?Oe:we},r.a.createElement(h.a,{columns:1},r.a.createElement(h.a.Column,{width:13},o?r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,a,"(",n,")")," set for a call with ",r.a.createElement("strong",null,o)," about ",r.a.createElement("strong",null,t),"."):r.a.createElement(r.a.Fragment,null,"You have requested a call for ",r.a.createElement("strong",null,a)," about ",r.a.createElement("strong",null,t),"."))))}}]),t}(r.a.Component),vt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={requests:[]},a.componentCleanup=a.componentCleanup.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentCleanup",value:function(){sessionStorage.setItem("SchoolRequests_LS",JSON.stringify(this.state))}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("beforeunload",this.componentCleanup);var t=sessionStorage.getItem("SchoolRequests_LS");if(t)try{this.setState(JSON.parse(t))}catch(r){console.log("Could not get fetch state from local storage for","SchoolRequests_LS")}var a={schoolId:this.props.schoolId},n=new Headers;n.append("Content-Type","application/json"),n.append("Accept","application/json"),fetch("".concat(Nt,"/getModeratorRequestsBySchool"),{method:"post",credentials:"include",headers:n,body:JSON.stringify(a)}).then(function(){var t=Object(E.a)(v.a.mark(function t(a){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a;case 2:return n=t.sent,t.next=5,n.json();case 5:n=t.sent,e.setState({requests:n&&n.requests});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.componentCleanup(),window.removeEventListener("beforeunload",this.componentCleanup)}},{key:"renderRequestCards",value:function(e){return e.map(function(e){return r.a.createElement(ft,{topic:e.menteeNameSchool,menteeName:e.mentee.name,mentorName:e.mentor&&e.mentor.name,paired:e.paired})})}},{key:"render",value:function(){return r.a.createElement(w.a,null,r.a.createElement(h.a,null,r.a.createElement(h.a.Column,{width:10},"You have made ",this.state.requests.length," requests via the school portal.")),r.a.createElement(w.a,null,this.renderRequestCards(this.state.requests)))}}]),t}(r.a.Component),Et=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.image,n=e.college,o=e.position,s=e.memberSince,l=e.callsCompleted,i=e.location;return r.a.createElement(O.a,{centered:!0,style:{width:"100%",padding:"5px",margin:"5px"}},r.a.createElement(h.a,{columns:3},r.a.createElement(h.a.Column,{width:4},r.a.createElement(k.a,{style:{width:"200px",height:"150px","object-fit":"cover"},src:a})),r.a.createElement(h.a.Column,{width:12},r.a.createElement(O.a.Content,null,r.a.createElement(O.a.Header,null,t," (member since ",s,", completed ",l," calls)"),r.a.createElement(O.a.Description,null,"College: ",n),r.a.createElement(O.a.Description,null,"Position: ",o),r.a.createElement(O.a.Description,null,"Location: ",i)))))}}]),t}(r.a.Component),bt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={mentors:[],searchMode:!1,searchTerms:""},a.updateSearchTerms=a.updateSearchTerms.bind(Object(m.a)(a)),a.componentCleanup=a.componentCleanup.bind(Object(m.a)(a)),a.clearSearch=a.clearSearch.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentCleanup",value:function(){sessionStorage.setItem("Mentors_LS",JSON.stringify(this.state))}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("beforeunload",this.componentCleanup);var t=sessionStorage.getItem("Mentors_LS");if(t)try{this.setState(JSON.parse(t))}catch(n){console.log("Could not get fetch state from local storage for","Mentors_LS")}var a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/getAllMentorsByAdmin"),{method:"get",credentials:"include",headers:a}).then(function(){var t=Object(E.a)(v.a.mark(function t(a){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a;case 2:return n=t.sent,t.next=5,n.json();case 5:n=t.sent,e.setState({mentors:n&&n.mentors});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.componentCleanup(),window.removeEventListener("beforeunload",this.componentCleanup)}},{key:"updateSearchTerms",value:function(e,t){var a=t.value;e.preventDefault(),a?this.setState({searchTerms:a,searchMode:!0}):this.setState({searchMode:!1,searchTerms:a})}},{key:"getBagofWords",value:function(e){return[e.name||"",e.college||"",e.location||""]}},{key:"clearSearch",value:function(e){e.preventDefault(),this.setState({searchMode:!1,searchTerms:"",searchTopic:""})}},{key:"filterResults",value:function(e){var t=this;return e.filter(function(e){for(var a=t.getBagofWords(e),n=t.state.searchTerms,r=0;r<a.length;r++)if(a[r].toLowerCase().includes(n.toLowerCase()))return!0})}},{key:"renderUserCards",value:function(e){return e.map(function(e){return r.a.createElement(Et,{name:e.name,college:e.college,location:e.location,memberSince:e.memberSince,callsCompleted:e.callsCompleted,image:e.image,position:e.position})})}},{key:"render",value:function(){return r.a.createElement(w.a,null,r.a.createElement(h.a,{columns:1},r.a.createElement(h.a.Column,{width:10},"There as ",this.state.mentors.length," Mentors currently in network."),r.a.createElement(h.a.Column,{width:6},r.a.createElement(h.a.Row,null,r.a.createElement(_e,{onSearchMode:this.updateSearchTerms,searchValue:this.state.searchTerms})),r.a.createElement(S.a,null),r.a.createElement(h.a.Row,null,r.a.createElement(p.a,{onClick:this.clearSearch},"Clear Search")))),r.a.createElement(w.a,null,this.state.searchMode?this.renderUserCards(this.filterResults(this.state.mentors)):this.renderUserCards(this.state.mentors)))}}]),t}(r.a.Component),yt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={modalOpen:!1,message:""},a.pingStudents=a.pingStudents.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentCleanup",value:function(){sessionStorage.setItem("SchoolDashboard_LS",JSON.stringify(this.state))}},{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.componentCleanup);var e=sessionStorage.getItem("SchoolDashboard_LS");if(e)try{this.setState(JSON.parse(e))}catch(t){console.log("Could not get fetch state from local storage for","SchoolDashboard_LS")}}},{key:"componentWillUnmount",value:function(){this.componentCleanup(),window.removeEventListener("beforeunload",this.componentCleanup)}},{key:"pingStudents",value:function(e){e.preventDefault(),this.setState({modalOpen:!1});var t={message:this.state.message,schoolId:this.props.schoolId},a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/pingStudents"),{method:"post",headers:a,credentials:"include",body:JSON.stringify(t)}).then(function(){var e=Object(E.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:200!==e.sent.status?I()({title:"Oops!",text:"Something went wrong... Please try again.",icon:"error"}):I()({title:"Message Sent!",text:"You messaged all students in your school.",icon:"success"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){window.alert("Something went wrong, the server's funky!")})}},{key:"render",value:function(){var e=this;return r.a.createElement(w.a,null,r.a.createElement(pe.a,{open:this.state.modalOpen,trigger:r.a.createElement(p.a,{onClick:function(){e.setState({modalOpen:!0})}},"Ping Students")},r.a.createElement(pe.a.Header,null,"Ping Students"),r.a.createElement(pe.a.Content,null,r.a.createElement(A.a,{onSubmit:this.pingStudents},r.a.createElement(A.a.Field,{type:"text"},r.a.createElement("label",null,"Message"),r.a.createElement("input",{placeholder:"Your message...",name:"message",onChange:this.handleChange,value:this.state.message})),r.a.createElement(p.a,{color:"blue",type:"submit",disabled:!this.state.message},"Send"))),r.a.createElement(pe.a.Actions,null,r.a.createElement(p.a,{onClick:function(){e.setState({modalOpen:!1})}},"Done"))))}}]),t}(r.a.Component),Ct="Dashboard",St=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleItemClick=function(e,t){var n=t.name;return a.setState({activeItem:n})},a.state={activeItem:Ct,data:{}},a.componentCleanup=a.componentCleanup.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentCleanup",value:function(){sessionStorage.setItem("NavBarSchoolAdmin_LS",JSON.stringify(this.state))}},{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.componentCleanup);var e=sessionStorage.getItem("NavBarSchoolAdmin_LS");if(e)try{this.setState(JSON.parse(e))}catch(t){console.log("Could not get fetch state from local storage for","NavBarSchoolAdmin_LS")}this.setState({data:this.props.payload.admin})}},{key:"componentWillUnmount",value:function(){this.componentCleanup(),window.removeEventListener("beforeunload",this.componentCleanup)}},{key:"renderNavSelection",value:function(){switch(this.state.activeItem){case"Requests":return r.a.createElement(vt,{schoolId:this.state.data.school.id});case"Mentors":return r.a.createElement(bt,null);case"Students":return r.a.createElement(gt,null);case Ct:return r.a.createElement(yt,null);default:return null}}},{key:"render",value:function(){var e=this.state.activeItem;return r.a.createElement("div",null,r.a.createElement(b.a,{pointing:!0},r.a.createElement(b.a.Item,{name:"Requests",active:"Requests"===e,onClick:this.handleItemClick}),r.a.createElement(b.a.Item,{name:"Mentors",active:"Mentors"===e,onClick:this.handleItemClick}),r.a.createElement(b.a.Item,{name:"Students",active:"Students"===e,onClick:this.handleItemClick}),r.a.createElement(b.a.Item,{name:Ct,active:e===Ct,onClick:this.handleItemClick})),r.a.createElement(y.a,null,this.renderNavSelection()))}}]),t}(n.Component),wt={width:"100%"},Ot={padding:"20px",margin:"10px"},kt={width:"35%"},jt=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={email:"",password:"",incorrectCredentials:!1,error:null,menteeLoginLoading:!1,mentorLoginLoading:!1,adminLoading:!1,schoolAdminLoading:!1},e.handleChange=e.handleChange.bind(Object(m.a)(e)),e.handleSubmitAsMentee=e.handleSubmitAsMentee.bind(Object(m.a)(e)),e.handleSubmitAsMentor=e.handleSubmitAsMentor.bind(Object(m.a)(e)),e.handleSubmitAsAdmin=e.handleSubmitAsAdmin.bind(Object(m.a)(e)),e.handleSubmitAsSchoolAdmin=e.handleSubmitAsSchoolAdmin.bind(Object(m.a)(e)),e.renderIncorrectCredentialsMessage=e.renderIncorrectCredentialsMessage.bind(Object(m.a)(e)),e.componentCleanup=e.componentCleanup.bind(Object(m.a)(e)),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentCleanup",value:function(){sessionStorage.setItem("LoginForm_LS",JSON.stringify(this.state))}},{key:"handleSubmitAsMentor",value:function(e){var t=this;e.preventDefault(),this.setState({mentorLoginLoading:!0});var a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/mentorLogin"),{method:"post",credentials:"include",headers:a,body:JSON.stringify({email:this.state.email,password:this.state.password})}).then(function(){var e=Object(E.a)(v.a.mark(function e(a){var n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,400===n.status?t.setState({incorrectCredentials:!0,error:r.message?r.message:"Your login was unsuccessful.",mentorLoginLoading:!1},function(){return console.log("login rejected",n)}):t.setState({incorrectCredentials:!1,mentorLoginLoading:!1},function(){t.props.login(),t.props.liftPayload(r,"mentor")});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.setState({mentorLoginLoading:!1},function(){window.alert("Whoops! The server's acting up... :(")})})}},{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.componentCleanup);var e=sessionStorage.getItem("LoginForm_LS");if(e)try{this.setState(JSON.parse(e))}catch(t){console.log("Could not get fetch state from local storage for","LoginForm_LS")}}},{key:"componentWillUnmount",value:function(){this.componentCleanup(),window.removeEventListener("beforeunload",this.componentCleanup)}},{key:"handleSubmitAsMentee",value:function(e){var t=this;e.preventDefault(),this.setState({menteeLoginLoading:!0});var a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/menteeLogin"),{method:"post",credentials:"include",headers:a,body:JSON.stringify({email:this.state.email,password:this.state.password})}).then(function(){var e=Object(E.a)(v.a.mark(function e(a){var n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:return n=e.sent,e.next=5,a.json();case 5:r=e.sent,400===n.status?t.setState({incorrectCredentials:!0,error:r.message?r.message:"Your login was unsuccessful.",menteeLoginLoading:!1},function(){return console.log("login rejected",n)}):t.setState({incorrectCredentials:!1,menteeLoginLoading:!1},function(){t.props.login(),t.props.liftPayload(r,"mentee")});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.setState({menteeLoginLoading:!1},function(){window.alert("Whoops! The server's acting up... :(")})})}},{key:"handleSubmitAsAdmin",value:function(e){var t=this;e.preventDefault(),this.setState({adminLoginLoading:!0});var a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/adminLogin"),{method:"post",credentials:"include",headers:a,body:JSON.stringify({email:this.state.email,password:this.state.password})}).then(function(){var e=Object(E.a)(v.a.mark(function e(a){var n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,400===n.status?t.setState({incorrectCredentials:!0,error:r.message?r.message:"Your login was unsuccessful.",adminLoginLoading:!1},function(){return console.log("login rejected",n)}):t.setState({incorrectCredentials:!1,adminLoginLoading:!1},function(){t.props.login(),t.props.liftPayload(r,"admin")});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.setState({adminLoginLoading:!1},function(){window.alert("Whoops! The server's acting up... :(")})})}},{key:"handleSubmitAsSchoolAdmin",value:function(e){var t=this;e.preventDefault(),this.setState({schoolAdminLoginLoading:!0});var a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/schoolAdminLogin"),{method:"post",credentials:"include",headers:a,body:JSON.stringify({email:this.state.email,password:this.state.password})}).then(function(){var e=Object(E.a)(v.a.mark(function e(a){var n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,400===n.status?t.setState({incorrectCredentials:!0,error:r.message?r.message:"Your login was unsuccessful.",schoolAdminLoginLoading:!1},function(){return console.log("login rejected",n)}):t.setState({incorrectCredentials:!1,schoolAdminLoginLoading:!1},function(){t.props.login(),t.props.liftPayload(r,"school_admin")});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.setState({schoolAdminLoginLoading:!1},function(){window.alert("Whoops! The server's acting up... :(")})})}},{key:"handleChange",value:function(e){e.preventDefault();var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"renderIncorrectCredentialsMessage",value:function(){return this.state.incorrectCredentials?r.a.createElement(h.a,{centered:!0},r.a.createElement(T.a,{error:!0,content:this.state.error,style:{width:"80%",margin:"10px"}})):null}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T.a,{style:Ot,attached:!0,centered:!0,header:"We've been there. We'll take you there.",content:"Please sign in."}),this.renderIncorrectCredentialsMessage(),r.a.createElement(h.a,null,r.a.createElement(h.a.Row,{centered:!0},r.a.createElement(A.a,null,r.a.createElement(A.a.Field,{type:"email",required:"true",style:wt},r.a.createElement("label",null,"Email"),r.a.createElement("input",{placeholder:"Email",name:"email",onChange:this.handleChange})),r.a.createElement(A.a.Field,{type:"password",required:"true",style:wt},r.a.createElement("label",null,"Password"),r.a.createElement("input",{placeholder:"***",name:"password",type:"password",onChange:this.handleChange})))),r.a.createElement(h.a.Row,{centered:!0},r.a.createElement(p.a.Group,null,r.a.createElement(p.a,{style:kt,onClick:this.handleSubmitAsMentee,color:"yellow",loading:this.state.menteeLoginLoading},r.a.createElement(C.a,{name:"unlock"}),"Login as Mentee"),r.a.createElement(p.a,{style:kt,onClick:this.handleSubmitAsMentor,color:"orange",loading:this.state.mentorLoginLoading},r.a.createElement(C.a,{name:"unlock"}),"Login as Mentor"),r.a.createElement(p.a,{style:kt,onClick:this.handleSubmitAsAdmin,color:"gray",loading:this.state.adminLoginLoading},r.a.createElement(C.a,{name:"unlock"}),"Login as Admin"),r.a.createElement(p.a,{style:kt,onClick:this.handleSubmitAsSchoolAdmin,color:"gray",loading:this.state.schoolAdminLoginLoading},r.a.createElement(C.a,{name:"unlock"}),"Login as School Admin")))))}}]),t}(r.a.Component),Tt="Other... (Not included in list)",Mt={width:"100%"},xt={padding:"20px",margin:"10px"},At=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={name:"",email:"",password:"",confirmPassword:"",schools:[],schoolCustom:"",school:"",customSchoolSelected:!1,location:"",aboutYourself:"",imageLink:"",signUpDone:!1,submitting:!1},e.handleChange=e.handleChange.bind(Object(m.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(m.a)(e)),e.uploadImage=e.uploadImage.bind(Object(m.a)(e)),e.componentCleanup=e.componentCleanup.bind(Object(m.a)(e)),e.handleSchoolSelection=e.handleSchoolSelection.bind(Object(m.a)(e)),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentCleanup",value:function(){this.componentCleanup(),window.removeEventListener("beforeunload",this.componentCleanup)}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("beforeunload",this.componentCleanup);var t=sessionStorage.getItem("SignUpMentee_LS");if(t)try{this.setState(JSON.parse(t))}catch(n){console.log("Could not get fetch state from local storage for","SignUpMentee_LS")}var a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),fetch("".concat(Nt,"/getSchools"),{method:"get",headers:a,credentials:"include"}).then(function(){var t=Object(E.a)(v.a.mark(function t(a){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a;case 2:return n=t.sent,t.next=5,n.json();case 5:n=t.sent,e.setState({schools:n.schools});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){return console.log(e)})}},{key:"componentWillUnmount",value:function(){sessionStorage.setItem("SignUpMentee_LS",JSON.stringify(this.state))}},{key:"handleChange",value:function(e){e.preventDefault();var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"uploadImage",value:function(e){var t=this;e.preventDefault();var a=e.target.files[0],n=new FormData;n.append("file",a),Z.a.post("".concat(Nt,"/imageUpload"),n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){console.log(e),t.setState({imageLink:e.data})}).catch(function(e){return console.log(e)})}},{key:"handleSchoolSelection",value:function(e,t){var a=t.value;e.preventDefault(),a===Tt?this.setState({customSchoolSelected:!0}):this.setState({school:a})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.name&&this.state.email&&this.state.password&&(this.state.school||this.state.schoolCustom)&&this.state.location&&this.state.aboutYourself&&this.state.confirmPassword&&this.state.confirmPassword===this.state.password;if(this.setState({submitting:a}),a){var n="GMT".concat(ae()),r={name:this.state.name,email:this.state.email,password:this.state.password,school:this.state.school,schoolCustom:this.state.schoolCustom,customSchoolSelected:this.state.customSchoolSelected,location:this.state.location,timeZone:n,aboutYourself:this.state.aboutYourself,imageLink:this.state.imageLink};e.preventDefault(),fetch("".concat(Nt,"/newMentee"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(function(){var e=Object(E.a)(v.a.mark(function e(a){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:200===e.sent.status&&(I()({title:"Congratulations!",text:"Your submission was successful! Please check your email to confirm your account.",icon:"success"}),t.setState({signUpDone:!0}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.setState({submitting:!1},function(){window.alert("Whoops! The server's acting up... :(")})})}else I()({title:"Yikes!",text:"Please fill in all fields to continue. Confirm that passwords match!",icon:"error"})}},{key:"render",value:function(){var e=this.state.schools?this.state.schools.map(function(e){return{key:e.name,value:e.name,text:e.name}}):null;return e&&e.push({key:Tt,value:Tt,text:Tt}),r.a.createElement("div",null,this.state.signUpDone?r.a.createElement(R.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(T.a,{style:xt,attached:!0,centered:!0,header:"Mentee Sign up",content:"Welcome! We're excited to have you on board."}),r.a.createElement(h.a,null,r.a.createElement(h.a.Row,{centered:!0},r.a.createElement(p.a,null,r.a.createElement(z.b,{to:Dt.root},"Back"))),r.a.createElement(h.a.Row,{centered:!0},r.a.createElement(A.a,{onSubmit:this.handleSubmit},r.a.createElement(A.a.Field,{type:"email",required:"true",style:Mt},r.a.createElement("label",null,"Email"),r.a.createElement("input",{placeholder:"Email",name:"email",onChange:this.handleChange})),r.a.createElement(A.a.Field,{type:"password",required:"true",style:Mt},r.a.createElement("label",null,"Password"),r.a.createElement("input",{placeholder:"***",name:"password",type:"password",onChange:this.handleChange})),r.a.createElement(A.a.Field,{type:"password",required:"true",style:Mt},r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{placeholder:"***",name:"confirmPassword",type:"password",onChange:this.handleChange})),this.state.password!==this.state.confirmPassword?r.a.createElement(T.a,{attached:!0,centered:!0,error:!0,content:"Your passwords do not match!"}):null,r.a.createElement(A.a.Field,{type:"text",required:"true",style:Mt},r.a.createElement("label",null,"Name"),r.a.createElement("input",{placeholder:"Name",name:"name",onChange:this.handleChange})),this.state.customSchoolSelected?r.a.createElement(A.a.Field,{type:"text",required:"true",style:Mt},r.a.createElement("label",null,"Add your School"),r.a.createElement("input",{placeholder:"School",name:"school",onChange:this.handleChange})):r.a.createElement(A.a.Field,null,r.a.createElement("label",null,"Select your school"),r.a.createElement(L.a,{placeholder:"Select the school your attend",fluid:!0,selection:!0,options:e,onChange:this.handleSchoolSelection,name:"school"})),r.a.createElement(A.a.Field,{type:"text",required:"true",style:Mt},r.a.createElement("label",null,"Location"),r.a.createElement("input",{placeholder:"Location",name:"location",onChange:this.handleChange})),r.a.createElement(A.a.Field,{type:"text",required:"true",style:Mt},r.a.createElement("label",null,"Tell us a little bit about yourself!"),r.a.createElement("input",{placeholder:"Interests, Hobbies, Motos...",name:"aboutYourself",maxLength:"500",onChange:this.handleChange})),r.a.createElement(A.a.Field,null,r.a.createElement("label",null,"Let's put a face on you! Please upload an image."),r.a.createElement("input",{type:"file",onChange:this.uploadImage,class:"ui huge yellow center floated button"})),r.a.createElement(p.a,{color:"blue",type:"submit",loading:this.state.submitting},r.a.createElement(C.a,{name:"unlock"}),"Submit"))))))}}]),t}(r.a.Component),Lt={width:"100%"},Pt={padding:"20px",margin:"10px"},It=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={name:"",email:"",password:"",confirmPassword:"",signUpDone:!1,submitting:!1},e.handleChange=e.handleChange.bind(Object(m.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(m.a)(e)),e.componentCleanup=e.componentCleanup.bind(Object(m.a)(e)),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentCleanup",value:function(){this.componentCleanup(),window.removeEventListener("beforeunload",this.componentCleanup)}},{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.componentCleanup);var e=sessionStorage.getItem("SignUpAdmin_LS");if(e)try{this.setState(JSON.parse(e))}catch(t){console.log("Could not get fetch state from local storage for","SignUpAdmin_LS")}}},{key:"componentWillUnmount",value:function(){sessionStorage.setItem("SignUpAdmin_LS",JSON.stringify(this.state))}},{key:"handleChange",value:function(e){e.preventDefault();var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.name&&this.state.email&&this.state.password&&this.state.confirmPassword&&this.state.confirmPassword===this.state.password;if(this.setState({submitting:a}),a){var n="GMT".concat(ae()),r={name:this.state.name,email:this.state.email,password:this.state.password,timeZone:n};e.preventDefault(),fetch("".concat(Nt,"/newAdmin"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(function(e){I()({title:"Congratulations!",text:"Your submission was successful! Please check your email to confirm your account.",icon:"success"}),t.setState({signUpDone:!0})}).catch(function(e){t.setState({submitting:!1},function(){window.alert("Whoops! The server's acting up... :(")})})}else I()({title:"Yikes!",text:"Please fill in all fields to continue. Confirm that passwords match!",icon:"error"})}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.signUpDone?r.a.createElement(R.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(T.a,{style:Pt,attached:!0,centered:!0,header:"Admin Sign up",content:"Welcome admin! If you aren't Reshad or Mir, you must be really important!"}),r.a.createElement(h.a,null,r.a.createElement(h.a.Row,{centered:!0},r.a.createElement(p.a,null,r.a.createElement(z.b,{to:Dt.root},"Back"))),r.a.createElement(h.a.Row,{centered:!0},r.a.createElement(A.a,{onSubmit:this.handleSubmit},r.a.createElement(A.a.Field,{type:"email",required:"true",style:Lt},r.a.createElement("label",null,"Email"),r.a.createElement("input",{placeholder:"Email",name:"email",onChange:this.handleChange})),r.a.createElement(A.a.Field,{type:"password",required:"true",style:Lt},r.a.createElement("label",null,"Password"),r.a.createElement("input",{placeholder:"***",name:"password",type:"password",onChange:this.handleChange})),r.a.createElement(A.a.Field,{type:"password",required:"true",style:Lt},r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{placeholder:"***",name:"confirmPassword",type:"password",onChange:this.handleChange})),this.state.password!==this.state.confirmPassword?r.a.createElement(T.a,{attached:!0,centered:!0,error:!0,content:"Your passwords do not match!"}):null,r.a.createElement(A.a.Field,{type:"text",required:"true",style:Lt},r.a.createElement("label",null,"Name"),r.a.createElement("input",{placeholder:"Name",name:"name",onChange:this.handleChange})),r.a.createElement(p.a,{color:"blue",type:"submit",loading:this.state.submitting},r.a.createElement(C.a,{name:"unlock"}),"Submit"))))))}}]),t}(r.a.Component),Nt="ec2-54-174-119-87.compute-1.amazonaws.com:8080",Dt={root:"/",signupMentor:"/signupMentor",signupMentee:"/signupMentee",signupAdmin:"/signupAdmin"},Ft=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={role:"",mentorPayload:{},menteePayload:{},adminPayload:{},schoolAdminPayload:{},loggedIn:!1},e.renderLogin=e.renderLogin.bind(Object(m.a)(e)),e.logout=e.logout.bind(Object(m.a)(e)),e.login=e.login.bind(Object(m.a)(e)),e.liftPayload=e.liftPayload.bind(Object(m.a)(e)),e.componentCleanup=e.componentCleanup.bind(Object(m.a)(e)),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentCleanup",value:function(){sessionStorage.setItem("App_LS",JSON.stringify(this.state))}},{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.componentCleanup);var e=sessionStorage.getItem("App_LS");if(e)try{this.setState(JSON.parse(e))}catch(t){console.log("Could not get fetch state from local storage for","App_LS")}}},{key:"componentWillUnmount",value:function(){this.componentCleanup(),window.removeEventListener("beforeunload",this.componentCleanup)}},{key:"logout",value:function(e){e.preventDefault(),this.setState({loggedIn:!1})}},{key:"login",value:function(){this.setState({loggedIn:!0})}},{key:"liftPayload",value:function(e,t){switch(t){case"mentee":this.setState({role:"mentee",menteePayload:e});break;case"mentor":this.setState({role:"mentor",mentorPayload:e});break;case"admin":this.setState({role:"admin",adminPayload:e});break;case"school_admin":this.setState({role:"school_admin",schoolAdminPayload:e});break;default:return}}},{key:"renderLogin",value:function(){var e=this,t=null;switch(this.state.role){case"mentor":t=r.a.createElement(We,{payload:this.state.mentorPayload});break;case"mentee":t=r.a.createElement(tt,{payload:this.state.menteePayload});break;case"admin":t=r.a.createElement(dt,{payload:this.state.adminPayload});break;case"school_admin":t=r.a.createElement(St,{payload:this.state.schoolAdminPayload});break;default:t=null}var a=r.a.createElement(h.a,{centered:!0},r.a.createElement(z.a,null,r.a.createElement("div",null,r.a.createElement(R.d,null,r.a.createElement(R.b,{exact:!0,path:Dt.root,render:function(t){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(h.a,{centered:!0,rows:1},r.a.createElement(h.a.Row,{left:!0},r.a.createElement(p.a.Group,null,r.a.createElement(p.a,null,r.a.createElement(z.b,{to:Dt.signupMentor},"Sign up as Mentor")),r.a.createElement(p.a,null,r.a.createElement(z.b,{to:Dt.signupMentee},"Sign up as Mentee")),r.a.createElement(p.a,null,r.a.createElement(z.b,{to:Dt.signupAdmin},"Sign up as Admin")))))),r.a.createElement(S.a,null),r.a.createElement(jt,Object.assign({},t,{login:e.login,liftPayload:e.liftPayload})))}}),r.a.createElement(R.b,{exact:!0,path:Dt.signupMentor,render:function(){return r.a.createElement(ne,null)}}),r.a.createElement(R.b,{exact:!0,path:Dt.signupMentee,render:function(){return r.a.createElement(At,null)}}),r.a.createElement(R.b,{exact:!0,path:Dt.signupAdmin,render:function(){return r.a.createElement(It,null)}})))));return this.state.loggedIn?t:a}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g,{loggedIn:this.state.loggedIn,logout:this.logout}),r.a.createElement(w.a,null,this.renderLogin()))}}]),t}(n.Component);s.a.render(r.a.createElement(Ft,null),document.getElementById("root"))}},[[262,1,2]]]);
//# sourceMappingURL=main.49b57e4c.chunk.js.map